{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "datasource",
          "uid": "grafana"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "description": "InfluxDB dashboards for telegraf metrics",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "gnetId": 61,
  "graphTooltip": 1,
  "id": 136,
  "links": [
    {
      "icon": "external link",
      "tags": [
        "k8s-pod-by-node"
      ],
      "targetBlank": true,
      "title": "Kubernetes / Pod Resources",
      "type": "dashboards"
    },
    {
      "icon": "external link",
      "tags": [
        "prometheus",
        "opensearch",
        "opensearch_name_and_namespace",
        "indices"
      ],
      "targetBlank": true,
      "title": "OpenSearch Indices",
      "tooltip": "Open OpenSearch Indices dashboard",
      "type": "dashboards"
    },
    {
      "icon": "external link",
      "tags": [
        "prometheus",
        "opensearch",
        "opensearch_name_and_namespace",
        "replication"
      ],
      "targetBlank": true,
      "title": "OpenSearch Replication",
      "tooltip": "Open OpenSearch Replication dashboard",
      "type": "dashboards"
    },
    {
      "icon": "external link",
      "tags": [
        "prometheus",
        "opensearch",
        "opensearch_name_and_namespace",
        "slow-queries"
      ],
      "targetBlank": true,
      "title": "OpenSearch Slow Queries",
      "tooltip": "Open OpenSearch Slow Queries dashboard",
      "type": "dashboards"
    }
  ],
  "liveNow": false,
  "panels": [
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 65116,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "OpenSearch cluster",
      "type": "row"
    },
    {
      "datasource": "$datasource",
      "description": "Status of OpenSearch cluster.\nIf the cluster status is `degraded`, at least one replica shard is unallocated or missing. The search\n   results will still be complete, but if more shards are missing, you may lose data.\n   \n   A `failed` cluster status indicates that:\n   \n    * At least one primary shard is missing.\n    * You are missing data.\n    * The searches will return partial results.\n    * You will be blocked from indexing into that shard.",
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": {
                "0": {
                  "index": 1,
                  "text": "UP"
                },
                "6": {
                  "index": 2,
                  "text": "DEGRADED"
                },
                "10": {
                  "index": 3,
                  "text": "FAILED"
                },
                "null": {
                  "index": 0,
                  "text": "N/A"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "semi-dark-orange",
                "value": 6
              },
              {
                "color": "semi-dark-red",
                "value": 10
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 4,
        "x": 0,
        "y": 1
      },
      "id": 65072,
      "interval": "$inter",
      "maxDataPoints": 100,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "exemplar": true,
          "expr": "max(opensearch_cluster_health_status_code{namespace=\"$namespace\",cluster=\"$cluster\",status=\"\"})",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "instant": false,
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_cluster_health",
          "policy": "default",
          "query": "SELECT max(\"status_code\") FROM \"opensearch_cluster_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Cluster status",
      "type": "stat"
    },
    {
      "datasource": "$datasource",
      "description": "Status of OpenSearch nodes",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Down"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "scalar(opensearch_cluster_health_total_number_of_nodes{cluster=\"$cluster\",namespace=\"$namespace\"}) - min(opensearch_cluster_health_number_of_nodes{namespace=\"$namespace\",cluster=\"$cluster\"})"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/DOWN$/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#58140C",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 20
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 6,
        "w": 8,
        "x": 4,
        "y": 1
      },
      "id": 65073,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true,
          "width": 150
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.4.3",
      "targets": [
        {
          "alias": "UP",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "min(opensearch_cluster_health_number_of_nodes{namespace=\"$namespace\",cluster=\"$cluster\"})",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "Up",
          "policy": "default",
          "query": "SELECT min(\"number_of_nodes\") FROM \"opensearch_cluster_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "DOWN",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "scalar(opensearch_cluster_health_total_number_of_nodes{cluster=\"$cluster\",namespace=\"$namespace\"}) - min(opensearch_cluster_health_number_of_nodes{namespace=\"$namespace\",cluster=\"$cluster\"})",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "Down",
          "policy": "default",
          "query": "SELECT last(\"total_number_of_nodes\") - min(\"number_of_nodes\") FROM \"opensearch_cluster_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Nodes status",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "Maximum current CPU usage (in percent) among all OpenSearch servers.",
      "fieldConfig": {
        "defaults": {
          "mappings": [],
          "max": 100,
          "min": 0,
          "thresholds": {
            "mode": "percentage",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "semi-dark-red",
                "value": 90
              },
              {
                "color": "semi-dark-red",
                "value": 100
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 3,
        "x": 12,
        "y": 1
      },
      "id": 65133,
      "maxDataPoints": 100,
      "options": {
        "minVizHeight": 75,
        "minVizWidth": 75,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "sizing": "auto"
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "exemplar": false,
          "expr": "100 * max(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\", pod=~\"$node_name\",container=\"opensearch\",cluster=\"$cluster\"}[5m])) / max(kube_pod_container_resource_limits_cpu_cores{exported_namespace=\"$namespace\",exported_pod=~\"$node_name\",cluster=\"$cluster\"})",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "title": "CPU Usage",
      "type": "gauge"
    },
    {
      "datasource": "$datasource",
      "description": "Maximum current usage JVM heap memory (in percent) among all OpenSearch servers.",
      "fieldConfig": {
        "defaults": {
          "mappings": [],
          "max": 100,
          "min": 0,
          "thresholds": {
            "mode": "percentage",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "semi-dark-red",
                "value": 90
              },
              {
                "color": "semi-dark-red",
                "value": 100
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 3,
        "x": 15,
        "y": 1
      },
      "id": 65142,
      "maxDataPoints": 100,
      "options": {
        "minVizHeight": 75,
        "minVizWidth": 75,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "sizing": "auto"
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "max(opensearch_jvm_mem_heap_used_percent{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"})",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "title": "JVM Heap Usage",
      "type": "gauge"
    },
    {
      "datasource": "$datasource",
      "description": "The maximum memory usage excluding allocated JVM Heap memory (in percent) among all OpenSearch servers.\nThis amount of memory is used by operating system and Apache Lucene.",
      "fieldConfig": {
        "defaults": {
          "mappings": [],
          "max": 100,
          "min": 0,
          "thresholds": {
            "mode": "percentage",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "semi-dark-red",
                "value": 90
              },
              {
                "color": "semi-dark-red",
                "value": 100
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 3,
        "x": 18,
        "y": 1
      },
      "id": 65926,
      "maxDataPoints": 100,
      "options": {
        "minVizHeight": 75,
        "minVizWidth": 75,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "sizing": "auto"
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "100 * (max(container_memory_working_set_bytes{namespace=\"$namespace\",pod=~\"$node_name\",container!=\"\",image!=\"\",cluster=\"$cluster\"}) - max(opensearch_jvm_mem_heap_max_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"})) / (max(kube_pod_container_resource_limits_memory_bytes{exported_namespace=\"$namespace\",exported_pod=~\"$node_name\",cluster=\"$cluster\"}) - max(opensearch_jvm_mem_heap_max_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}))",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "title": "Off-Heap Memory Usage",
      "type": "gauge"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "description": "OpenSearch Version",
      "fieldConfig": {
        "defaults": {
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 3,
        "x": 21,
        "y": 1
      },
      "id": 65927,
      "interval": "$inter",
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "name",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "uid": "$datasource"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "group by (versions_0) (opensearch_clusterstats_nodes_count_cluster_manager{namespace=\"$namespace\", cluster=\"$cluster\"})",
          "instant": true,
          "interval": "",
          "legendFormat": "{{version}}",
          "range": false,
          "refId": "A"
        }
      ],
      "title": "OpenSearch Version",
      "type": "stat"
    },
    {
      "datasource": {
        "default": false,
        "type": "prometheus",
        "uid": "$datasource"
      },
      "description": "Transitions of OpenSearch cluster status",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "continuous-GrYlRd"
          },
          "custom": {
            "fillOpacity": 70,
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineWidth": 0,
            "spanNulls": false
          },
          "mappings": [
            {
              "options": {
                "0": {
                  "color": "semi-dark-green",
                  "index": 1,
                  "text": "UP"
                },
                "6": {
                  "color": "semi-dark-orange",
                  "index": 2,
                  "text": "DEGRADED"
                },
                "10": {
                  "color": "semi-dark-red",
                  "index": 3,
                  "text": "DOWN"
                },
                "null": {
                  "color": "text",
                  "index": 0,
                  "text": "N/A"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 12,
        "x": 0,
        "y": 7
      },
      "id": 65131,
      "options": {
        "alignValue": "center",
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "mergeValues": true,
        "rowHeight": 0.9,
        "showValue": "never",
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "max(opensearch_cluster_health_status_code{namespace=\"$namespace\",cluster=\"$cluster\",status=\"\"})",
          "interval": "",
          "legendFormat": "Cluster State",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Cluster Status Transitions",
      "type": "state-timeline"
    },
    {
      "datasource": "$datasource",
      "description": "Transitions of readiness probes for each OpenSearch pod.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "continuous-GrYlRd"
          },
          "custom": {
            "fillOpacity": 70,
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineWidth": 0,
            "spanNulls": false
          },
          "mappings": [
            {
              "options": {
                "0": {
                  "color": "semi-dark-red",
                  "index": 2,
                  "text": "FAILURE"
                },
                "1": {
                  "color": "semi-dark-green",
                  "index": 1,
                  "text": "SUCCESS"
                },
                "null": {
                  "color": "text",
                  "index": 0,
                  "text": "N/A"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "semi-dark-red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 12,
        "x": 12,
        "y": 7
      },
      "id": 65129,
      "options": {
        "alignValue": "left",
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "mergeValues": true,
        "rowHeight": 0.9,
        "showValue": "never",
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "exemplar": true,
          "expr": "min(kube_pod_status_ready{exported_namespace=\"$namespace\", exported_pod=~\"$node_name\", condition=\"true\", cluster=\"$cluster\"}) by (exported_pod)",
          "interval": "",
          "legendFormat": "{{exported_pod}}",
          "refId": "A"
        }
      ],
      "title": "Pod Readiness Probe Transitions",
      "type": "state-timeline"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 13
      },
      "id": 65117,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "OpenSearch shards",
      "type": "row"
    },
    {
      "datasource": "$datasource",
      "description": "The number of active primary shards in OpenSearch cluster",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "rgb(31, 120, 193)",
            "mode": "fixed"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 0,
        "y": 14
      },
      "id": 65038,
      "interval": "",
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "opensearch_cluster_health_active_primary_shards{cluster=\"$cluster\",namespace=\"$namespace\"}",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_cluster_health",
          "policy": "default",
          "query": "SELECT last(\"active_primary_shards\") FROM \"opensearch_cluster_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(0)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Active primary shards",
      "type": "stat"
    },
    {
      "datasource": "$datasource",
      "description": "The number of active primary and replica shards in OpenSearch cluster",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "rgb(31, 120, 193)",
            "mode": "fixed"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 6,
        "y": 14
      },
      "id": 65039,
      "interval": "",
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "opensearch_cluster_health_active_shards{cluster=\"$cluster\",namespace=\"$namespace\"}",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_cluster_health",
          "policy": "default",
          "query": "SELECT last(\"active_shards\") FROM \"opensearch_cluster_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(0)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Active shards",
      "type": "stat"
    },
    {
      "datasource": "$datasource",
      "description": "The number of shards that are in the `initializing` state. When you first create an index, or when a node is rebooted, its shards are briefly in the `initializing` state before transitioning to `started` or `unassigned` as the master node attempts to assign shards to nodes in the cluster. If you see the shards remain in the `initializing` state for too long, it could be a warning sign that your cluster is unstable.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "rgb(31, 120, 193)",
            "mode": "fixed"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 4,
        "x": 12,
        "y": 14
      },
      "id": 65040,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "opensearch_cluster_health_initializing_shards{cluster=\"$cluster\",namespace=\"$namespace\"}",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_cluster_health",
          "policy": "default",
          "query": "SELECT last(\"initializing_shards\") FROM \"opensearch_cluster_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(0)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Initializing shards",
      "type": "stat"
    },
    {
      "datasource": "$datasource",
      "description": "The number of shards that are relocating now and have the `relocating` state.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "rgb(31, 120, 193)",
            "mode": "fixed"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 4,
        "x": 16,
        "y": 14
      },
      "id": 65041,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "opensearch_cluster_health_relocating_shards{cluster=\"$cluster\",namespace=\"$namespace\"}",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_cluster_health",
          "policy": "default",
          "query": "SELECT last(\"relocating_shards\") FROM \"opensearch_cluster_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(0)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Relocating shards",
      "type": "stat"
    },
    {
      "datasource": "$datasource",
      "description": "The number of shards that are not assigned to any node and have the `unassigned` state. If you see the shards remain in the `unassigned` state for too long, it could be a warning sign that your cluster is unstable.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "rgb(31, 120, 193)",
            "mode": "fixed"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 4,
        "x": 20,
        "y": 14
      },
      "id": 65042,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "max(opensearch_cluster_health_unassigned_shards{cluster=\"$cluster\",namespace=\"$namespace\"})",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_cluster_health",
          "policy": "default",
          "query": "SELECT max(\"unassigned_shards\") FROM \"opensearch_cluster_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(0)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Unassigned shards",
      "type": "stat"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 17
      },
      "id": 65291,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "OpenSearch tasks",
      "type": "row"
    },
    {
      "datasource": "$datasource",
      "description": "The number of tasks in 'pending' status in OpenSearch cluster",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "rgb(31, 120, 193)",
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "semi-dark-yellow",
                "value": 1
              },
              {
                "color": "semi-dark-red",
                "value": 5
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 6,
        "x": 0,
        "y": 18
      },
      "id": 65922,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "exemplar": false,
          "expr": "opensearch_cluster_health_number_of_pending_tasks{cluster=\"$cluster\",namespace=\"$namespace\"}",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "title": "Pending Tasks",
      "type": "stat"
    },
    {
      "datasource": "$datasource",
      "description": "The maximum time in milliseconds that task is waiting in queue",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ms"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 18,
        "x": 6,
        "y": 18
      },
      "id": 65923,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.4.3",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "exemplar": true,
          "expr": "max(opensearch_cluster_health_task_max_waiting_in_queue_millis{cluster=\"$cluster\",namespace=\"$namespace\"})",
          "instant": false,
          "interval": "",
          "legendFormat": "time of max waiting task",
          "refId": "A"
        }
      ],
      "title": "Time of Most Waiting Task",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 24
      },
      "id": 65118,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "Network metrics",
      "type": "row"
    },
    {
      "datasource": "$datasource",
      "description": "The number of open transport connections for each OpenSearch node. May be not applicable for managed external OpenSearch.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 25
      },
      "id": 65074,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.4.3",
      "targets": [
        {
          "alias": "$tag_node_name",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "max(opensearch_transport_server_open{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "{{node_name}}",
          "measurement": "opensearch_transport",
          "policy": "default",
          "query": "SELECT max(\"server_open\") FROM \"opensearch_transport\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Open transport connections",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The number of open HTTP connections for each OpenSearch node. If the total number of open HTTP connections is constantly increasing, it may indicate that your HTTP clients are not properly establishing persistent connections. Reestablishing connections adds extra milliseconds or even seconds to your request response time.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 25
      },
      "id": 65049,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.4.3",
      "targets": [
        {
          "alias": "$tag_node_name.$col",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "max(opensearch_http_current_open{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "interval": "",
          "legendFormat": "{{node_name}}",
          "measurement": "opensearch_http",
          "policy": "default",
          "query": "SELECT max(\"current_open\") as \"open\" FROM \"opensearch_http\" WHERE (node_name =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Open http connections",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The rate of change between subsequent size values of received (rx) and transmitted (tx) packages for each OpenSearch node. May be not applicable for managed external OpenSearch.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "binBps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/rx/"
            },
            "properties": [
              {
                "id": "custom.transform",
                "value": "negative-Y"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 32
      },
      "id": 65048,
      "interval": "2m",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "8.4.3",
      "targets": [
        {
          "_comment": "In the query 'count(rx_size_in_bytes) / count(rx_size_in_bytes)' part is added to have 'null' results, because by default 'non_negative_derivative' function returns nothing if interval does not contain values.",
          "alias": "$tag_node_name: rx",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(irate(opensearch_transport_rx_size_in_bytes{namespace=\"$namespace\",node_name=~\"^$node_name*\",cluster=\"$cluster\"}[$__interval])) by (node_name, node_host)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "interval": "",
          "legendFormat": "{{node_name}}[{{node_host}}:rx]",
          "measurement": "opensearch_transport",
          "policy": "default",
          "query": "SELECT non_negative_derivative(mean(\"rx_size_in_bytes\"), 1s) * count(\"rx_size_in_bytes\") / count(\"rx_size_in_bytes\") FROM \"opensearch_transport\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "_comment": "In the query 'count(tx_size_in_bytes) / count(tx_size_in_bytes)' part is added to have 'null' results, because by default 'non_negative_derivative' function returns nothing if interval does not contain values.",
          "alias": "$tag_node_name: tx",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "exemplar": true,
          "expr": "sum(irate(opensearch_transport_tx_size_in_bytes{namespace=\"$namespace\",node_name=~\"^$node_name*\",cluster=\"$cluster\"}[$__interval])) by (node_name, node_host)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "interval": "",
          "legendFormat": "{{node_name}}[{{node_host}}:tx]",
          "measurement": "opensearch_transport",
          "policy": "default",
          "query": "SELECT non_negative_derivative(mean(\"tx_size_in_bytes\"), 1s) * count(\"tx_size_in_bytes\") / count(\"tx_size_in_bytes\") FROM \"opensearch_transport\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND \"cluster\"=\"$cluster\" AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
          "rawQuery": true,
          "refId": "D",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Transport size",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 39
      },
      "id": 65119,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "JVM heap and GC metrics",
      "type": "row"
    },
    {
      "datasource": "$datasource",
      "description": "The usage of JVM heap memory by each OpenSearch node",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/total/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#890F02",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 0
              },
              {
                "id": "custom.lineWidth",
                "value": 2
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 40
      },
      "id": 65069,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true,
          "width": 350
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "alias": "$tag_node_name: $col",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_jvm_mem_heap_used_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "used:{{node_name}}",
          "measurement": "opensearch_jvm",
          "policy": "default",
          "query": "SELECT mean(\"mem_heap_used_in_bytes\") AS \"used\", mean(\"mem_heap_max_in_bytes\") AS \"total\" FROM \"opensearch_jvm\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_jvm_mem_heap_max_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "total:{{node_name}}",
          "refId": "B"
        }
      ],
      "title": "JVM heap usage",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "OpenSearch is set up to initiate garbage collections whenever JVM heap usage hits 75 percent. As shown above, it may be useful to monitor which nodes exhibit high heap usage, and set up an alert to find out if any node is consistently using over 85 percent of heap memory; this indicates that the rate of garbage collection isn’t keeping up with the rate of garbage creation. To address this problem, you can either increase your heap size (as long as it remains below the recommended guidelines stated above), or scale out the cluster by adding more nodes.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "line+area"
            }
          },
          "links": [],
          "mappings": [],
          "max": 100,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "transparent",
                "value": null
              },
              {
                "color": "red",
                "value": 85
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 40
      },
      "id": 65046,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "alias": "$tag_node_name",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_jvm_mem_heap_used_percent{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "interval": "",
          "legendFormat": "{{node_name}}",
          "measurement": "opensearch_jvm",
          "policy": "default",
          "query": "SELECT mean(\"mem_heap_used_percent\") FROM \"opensearch_jvm\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "JVM heap usage percent",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The usage of memory outside the JVM heap by each OpenSearch node",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/total$/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#890F02",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 0
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 47
      },
      "id": 65076,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true,
          "width": 350
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "alias": "$tag_node_name: $col",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_jvm_mem_non_heap_used_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "{{node_name}}",
          "measurement": "opensearch_jvm",
          "policy": "default",
          "query": "SELECT mean(\"mem_non_heap_used_in_bytes\") AS \"used\" FROM \"opensearch_jvm\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "JVM non heap usage",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "Time spent on major GCs that collect old generation objects and on minor GCs that collects young generation objects in JVM (time rate per sampling interval).",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ms"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 47
      },
      "id": 65062,
      "interval": "2m",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "alias": "$tag_node_name: $col",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(irate(opensearch_jvm_gc_collectors_old_collection_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[$__interval])) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "old:{{node_name}}",
          "measurement": "opensearch_jvm",
          "policy": "default",
          "query": "SELECT non_negative_difference(max(\"gc_collectors_old_collection_time_in_millis\")) * mean(\"gc_collectors_old_collection_time_in_millis\") / mean(\"gc_collectors_old_collection_time_in_millis\") AS \"old\", non_negative_difference(max(\"gc_collectors_young_collection_time_in_millis\")) * mean(\"gc_collectors_young_collection_time_in_millis\") / mean(\"gc_collectors_young_collection_time_in_millis\") AS \"young\" FROM \"opensearch_jvm\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(irate(opensearch_jvm_gc_collectors_young_collection_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[$__interval])) by (node_name)",
          "interval": "",
          "legendFormat": "young:{{node_name}}",
          "refId": "B"
        }
      ],
      "title": "GC time",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 54
      },
      "id": 65120,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "Memory metrics",
      "type": "row"
    },
    {
      "datasource": "$datasource",
      "description": "The usage of memory by each OpenSearch node and its limit. These metric is useful to avoid reaching the memory limit on nodes.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/limit/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#890F02",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 0
              },
              {
                "id": "custom.lineWidth",
                "value": 2
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 55
      },
      "id": 65067,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "alias": "$tag_pod_name used",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(container_memory_usage_bytes{namespace=\"$namespace\",pod=~\"$node_name\",container!=\"\",image!=\"\",cluster=\"$cluster\"}) by (pod)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "{{pod}}:allocated",
          "measurement": "memory/usage",
          "policy": "default",
          "query": "SELECT mean(\"value\") FROM \"memory/usage\" WHERE (\"pod_name\" =~ /^$node_name$*/ AND \"type\" = 'pod' AND \"namespace_name\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"pod_name\" fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "$tag_pod_name total",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(kube_pod_container_resource_limits_memory_bytes{exported_namespace=\"$namespace\",exported_pod=~\"$node_name\",cluster=\"$cluster\"}) by (exported_pod)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "{{exported_pod}}:limit",
          "measurement": "memory/limit",
          "policy": "default",
          "query": "SELECT mean(\"value\") FROM \"memory/limit\" WHERE (\"pod_name\" =~ /^$node_name$*/ AND \"type\" = 'pod' AND \"namespace_name\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"pod_name\" fill(null)",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(container_memory_working_set_bytes{namespace=\"$namespace\",pod=~\"$node_name\",container!=\"\",image!=\"\",cluster=\"$cluster\"}) by (pod)",
          "interval": "",
          "legendFormat": "{{pod}}:usage",
          "refId": "C"
        }
      ],
      "title": "OS memory usage",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The usage of memory excluding allocated JVM Heap memory by each OpenSearch node and its limit. \n  This amount of memory is used by operating system and Apache Lucene.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineStyle": {
              "fill": "solid"
            },
            "lineWidth": 1,
            "pointSize": 3,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "A"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.lineWidth",
                "value": 1
              }
            ]
          },
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "B"
            },
            "properties": [
              {
                "id": "custom.fillOpacity",
                "value": 10
              },
              {
                "id": "color",
                "value": {
                  "fixedColor": "green",
                  "mode": "palette-classic",
                  "seriesBy": "last"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 24,
        "x": 0,
        "y": 62
      },
      "id": 65925,
      "options": {
        "legend": {
          "calcs": [
            "max",
            "last"
          ],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "max(label_replace(kube_pod_container_resource_limits_memory_bytes{exported_namespace=\"$namespace\",exported_pod=~\"$node_name\",cluster=\"$cluster\"}, \"node_name\", \"$1\", \"exported_pod\", \"(.+)\")) by (node_name) - max(opensearch_jvm_mem_heap_max_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "instant": false,
          "legendFormat": "{{node_name}}:limit",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "editorMode": "code",
          "expr": "max(label_replace(container_memory_working_set_bytes{namespace=\"$namespace\",pod=~\"$node_name\",container!=\"\",image!=\"\",cluster=\"$cluster\"}, \"node_name\", \"$1\", \"pod\", \"(.+)\")) by (node_name) - max(opensearch_jvm_mem_heap_max_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)\n",
          "hide": false,
          "instant": false,
          "legendFormat": "{{node_name}}:usage",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Off-heap memory usage",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 70
      },
      "id": 65121,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "Disk metrics",
      "type": "row"
    },
    {
      "datasource": "$datasource",
      "description": "The usage of disk space in percent for an OpenSearch node",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/total/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#BF1B00",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 0
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 71
      },
      "id": 65047,
      "interval": "1m",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.4.3",
      "targets": [
        {
          "alias": "$tag_node_name [$tag_node_host] used",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "100 * (((sum(opensearch_fs_total_total_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)) - (sum(opensearch_fs_total_free_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name))) / sum(opensearch_fs_total_total_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)) ",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "{{node_name}}",
          "measurement": "opensearch_fs",
          "policy": "default",
          "query": "SELECT 100 * (mean(\"total_total_in_bytes\") - mean(\"total_free_in_bytes\")) / mean(\"total_total_in_bytes\") FROM \"opensearch_fs\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\" ,\"node_host\" fill(null)",
          "rawQuery": true,
          "refId": "D",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Disk usage in percent",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The usage of disk space allocated to each OpenSearch node and its limit",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/total/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#BF1B00",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 0
              },
              {
                "id": "custom.lineWidth",
                "value": 2
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 71
      },
      "id": 65068,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.4.3",
      "targets": [
        {
          "alias": "$tag_node_name [$tag_node_host] total",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_fs_total_total_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "interval": "",
          "legendFormat": "total: {{node_name}}",
          "measurement": "opensearch_fs",
          "policy": "default",
          "query": "SELECT mean(\"total_total_in_bytes\") FROM \"opensearch_fs\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\", \"node_host\" fill(null)",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "$tag_node_name [$tag_node_host] used",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "exemplar": true,
          "expr": "sum(opensearch_fs_total_total_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name) - sum(opensearch_fs_total_available_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "used: {{node_name}}",
          "measurement": "opensearch_fs",
          "policy": "default",
          "query": "SELECT mean(\"total_total_in_bytes\") - mean( \"total_available_in_bytes\") FROM \"opensearch_fs\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY  time($__interval), \"node_name\", \"node_host\" fill(null)",
          "rawQuery": true,
          "refId": "D",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Disk usage",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The rate of change between subsequent values of input/output operations per second for each OpenSearch node",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "iops"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 78
      },
      "id": 65070,
      "interval": "2m",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.4.3",
      "targets": [
        {
          "_comment": "In the query 'count(io_stats_total_read_operations) / count(io_stats_total_read_operations)' part is added to have 'null' results, because by default 'non_negative_derivative' function returns nothing if interval does not contain values.",
          "alias": "$tag_node_name [$tag_node_host] $col",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(irate(opensearch_fs_io_stats_total_write_operations{namespace=\"$namespace\",node_name=~\"^$node_name*\",cluster=\"$cluster\"}[$__interval])) by (node_name, node_host)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "{{node_name}}[{{node_host}}]:write",
          "measurement": "opensearch_fs",
          "policy": "default",
          "query": "SELECT non_negative_derivative(mean(\"io_stats_total_read_operations\"), 1s) * count(\"io_stats_total_read_operations\") / count(\"io_stats_total_read_operations\") AS \"read\", non_negative_derivative(mean(\"io_stats_total_write_operations\"), 1s) AS \"write\" FROM \"opensearch_fs\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\", \"node_host\" fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(irate(opensearch_fs_io_stats_total_read_operations{namespace=\"$namespace\",node_name=~\"^$node_name*\",cluster=\"$cluster\"}[$__interval])) by (node_name, node_host)",
          "interval": "",
          "legendFormat": "{{node_name}}[{{node_host}}]:read",
          "refId": "B"
        }
      ],
      "title": "Disk I/O operations",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The rate of change between subsequent values of disk usage for each OpenSearch node",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "KBs"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 78
      },
      "id": 65071,
      "interval": "2m",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.4.3",
      "targets": [
        {
          "_comment": "In the query 'count(io_stats_total_read_kilobytes) / count(io_stats_total_read_kilobytes)' part is added to have 'null' results, because by default 'non_negative_derivative' function returns nothing if interval does not contain values.",
          "alias": "$tag_node_name [$tag_node_host] $col",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(irate(opensearch_fs_io_stats_total_read_kilobytes{namespace=\"$namespace\",node_name=~\"^$node_name*\",cluster=\"$cluster\"}[$__interval])) by (node_name, node_host)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "interval": "",
          "legendFormat": "{{node_name}}[{{node_host}}:read]",
          "policy": "default",
          "query": "SELECT non_negative_derivative(mean(\"io_stats_total_read_kilobytes\"), 1s) * count(\"io_stats_total_read_kilobytes\") / count(\"io_stats_total_read_kilobytes\") AS \"read\", non_negative_derivative(mean(\"io_stats_total_write_kilobytes\"), 1s) AS \"write\" FROM \"opensearch_fs\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\", \"node_host\" fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "exemplar": true,
          "expr": "sum(irate(opensearch_fs_io_stats_total_write_kilobytes{namespace=\"$namespace\",node_name=~\"^$node_name*\",cluster=\"$cluster\"}[$__interval])) by (node_name, node_host)",
          "interval": "",
          "legendFormat": "{{node_name}}[{{node_host}}:write]",
          "refId": "B"
        }
      ],
      "title": "Disk I/O usage",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The amount of open file descriptors for each OpenSearch node",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 12,
        "x": 0,
        "y": 85
      },
      "id": 65135,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.4.3",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "exemplar": true,
          "expr": "max(opensearch_process_open_file_descriptors{namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "hide": false,
          "interval": "",
          "legendFormat": "{{node_name}}",
          "refId": "A"
        }
      ],
      "title": "Open File Descriptors",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 91
      },
      "id": 65122,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "CPU metrics",
      "type": "row"
    },
    {
      "datasource": "$datasource",
      "description": "Five-minute load average on the system",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 92
      },
      "id": 65050,
      "interval": "1m",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "alias": "$tag_node_name [$tag_node_host]",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_os_cpu_load_average_5m{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name, node_host)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "{{node_name}} [{{node_host}}]",
          "measurement": "opensearch_os",
          "policy": "default",
          "query": "SELECT mean(\"cpu_load_average_5m\") FROM \"opensearch_os\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\", \"node_host\" fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "CPU load average (5 min)",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The usage of CPU in percent for each OpenSearch node",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 92
      },
      "id": 65045,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "alias": "$tag_node_name [$tag_node_host]",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_process_cpu_percent{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name, node_host)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "{{node_name}}[{{node_host}}]",
          "measurement": "opensearch_process",
          "policy": "default",
          "query": "SELECT mean(\"cpu_percent\") FROM \"opensearch_process\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\", \"node_host\" fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "CPU load in percent",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The usage of CPU by each OpenSearch node and its limit",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "Millicores",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/limit/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#890F02",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 0
              },
              {
                "id": "custom.lineWidth",
                "value": 2
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 99
      },
      "id": 65075,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "alias": "$tag_pod_name",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "(sum(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\", pod=~\"$node_name\",container!=\"\",image!=\"\",cluster=\"$cluster\"}[5m])) by (pod)) * 1000",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "Usage: {{pod}}",
          "measurement": "cpu/usage_rate",
          "policy": "default",
          "query": "SELECT mean(\"value\") FROM \"cpu/usage_rate\" WHERE (\"pod_name\" =~ /^$node_name$*/ AND \"type\" = 'pod' AND \"namespace_name\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"pod_name\" fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "$tag_pod_name total",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "(sum(kube_pod_container_resource_limits_cpu_cores{exported_namespace=\"$namespace\",exported_pod=~\"$node_name\",cluster=\"$cluster\"}) by (exported_pod)) * 1000",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "Limit: {{exported_pod}}",
          "measurement": "cpu/limit",
          "policy": "default",
          "query": "SELECT mean(\"value\") FROM \"cpu/limit\" WHERE (\"pod_name\" =~ /^$node_name$*/ AND \"type\" = 'pod' AND \"namespace_name\" =~ /^$namespace$/) AND $timeFilter GROUP BY time($__interval), \"pod_name\" fill(null)",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "CPU load by pod",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 106
      },
      "id": 65123,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "Indices statistics",
      "type": "row"
    },
    {
      "datasource": "$datasource",
      "description": "The number of operations performed by indices at the moment grouped by operation type and OpenSearch node",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "stepAfter",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 107
      },
      "id": 65059,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "alias": "$tag_node_name: $col",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_indices_flush_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:flush",
          "measurement": "opensearch_indices",
          "policy": "default",
          "query": "SELECT  mean(flush_total) as \"flush\", mean(get_exists_total) as \"get-exists\", mean(get_missing_total) as \"get-missing\", mean(get_total) as \"get\", mean(indexing_delete_total) as \"indexing-delete\", mean(indexing_index_total) as \"indexing-index\", mean(indexing_noop_update_total) as \"indexing-noop-update\", mean(merges_total) as \"merges\", mean(percolate_total) as \"percolate\", mean(refresh_total) as \"refresh\", mean(search_fetch_total) as \"search-fetch\", mean(search_query_total) as \"search-query\", mean(search_scroll_total) as \"search-scroll\", mean(suggest_total) as \"suggest\", mean(warmer_total) as \"warmer\" FROM \"opensearch_indices\" WHERE (node_name =~ /$node_name/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY time($__interval), * fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "tags": []
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_get_exists_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:get-exists",
          "refId": "B"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_get_missing_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:get-missing",
          "refId": "C"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_get_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}: get",
          "refId": "D"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_indexing_delete_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:indexing-delete",
          "refId": "E"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_indexing_index_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:indexing-index",
          "refId": "F"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_indexing_noop_update_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:indexing-noop-update",
          "refId": "G"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_merges_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:merges",
          "refId": "H"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_percolate_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:percolate",
          "refId": "I"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_refresh_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:refresh",
          "refId": "J"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_search_fetch_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:search-fetch",
          "refId": "K"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_search_query_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:search-query",
          "refId": "L"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_search_scroll_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:search-scroll",
          "refId": "M"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_suggest_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:suggest",
          "refId": "N"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_warmer_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:warmer",
          "refId": "O"
        }
      ],
      "title": "Indices total operations",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The operations number performed by indices per second grouped by operation type and OpenSearch node",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "stepAfter",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ops"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 107
      },
      "id": 65060,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_flush_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:flush",
          "refId": "A"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_get_exists_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:get-exists",
          "refId": "B"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_get_missing_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:get-missing",
          "refId": "C"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_get_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:get",
          "refId": "D"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_indexing_delete_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:indexing-delete",
          "refId": "E"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_indexing_index_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:indexing-index",
          "refId": "F"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_indexing_noop_update_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:indexing-noop-update",
          "refId": "G"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_merges_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:merges",
          "refId": "H"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_percolate_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:percolate",
          "refId": "I"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_refresh_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:refresh",
          "refId": "J"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_search_fetch_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:search-fetch",
          "refId": "K"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_search_query_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:search-query",
          "refId": "L"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_search_scroll_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:search-scroll",
          "refId": "M"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_suggest_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:suggest",
          "refId": "N"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_warmer_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:warmer",
          "refId": "O"
        }
      ],
      "title": "Indices operations rate",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The average time to complete an operation in indices grouped by operation type and OpenSearch node",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "stepAfter",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ms"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byValue",
              "options": {
                "op": "gte",
                "reducer": "allIsNull",
                "value": 0
              }
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": true,
                  "tooltip": true,
                  "viz": false
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 115
      },
      "id": 65066,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "alias": "$tag_node_name: $col",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_indices_merges_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "interval": "",
          "legendFormat": "{{node_name}}:merges-total",
          "measurement": "opensearch_transport_rx_count",
          "policy": "default",
          "query": "SELECT mean(merges_total_time_in_millis) AS \"merges-total\", mean(flush_total_time_in_millis) AS \"flush-total\", mean(get_exists_time_in_millis) AS \"get-exists\", mean(get_missing_time_in_millis) AS \"get-missing\", mean(get_time_in_millis) AS \"get\", mean(indexing_delete_time_in_millis) AS \"indexing-delete\", mean(indexing_index_time_in_millis) AS \"indexing-index\", mean(indexing_throttle_time_in_millis) AS \"indexing-throttle\", mean(merges_total_stopped_time_in_millis) AS \"merges-total-stopped\", mean(merges_total_throttled_time_in_millis) AS \"merges-total-throttled\", mean(merges_total_time_in_millis) AS \"merges-total\", mean(percolate_time_in_millis) AS \"percolate\", mean(recovery_throttle_time_in_millis) AS \"recovery-throttle\", mean(refresh_total_time_in_millis) AS \"refresh-total\", mean(search_fetch_time_in_millis) AS \"search-fetch\", mean(search_query_time_in_millis) AS \"search-query\", mean(search_scroll_time_in_millis) AS \"search-scroll\", mean(store_throttle_time_in_millis) AS \"store-throttle\", mean(suggest_time_in_millis) AS \"suggest\", mean(warmer_total_time_in_millis) AS \"warmer-total\" FROM \"opensearch_indices\" WHERE (node_name =~ /$node_name/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY time($__interval), * fill(null)",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_flush_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:flush-total",
          "refId": "A"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_get_exists_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:get-exists",
          "refId": "B"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_get_missing_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:get-missing",
          "refId": "D"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_get_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:get",
          "refId": "E"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_indexing_delete_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:indexing-delete",
          "refId": "F"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_indexing_index_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:indexing-index",
          "refId": "G"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_indexing_throttle_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:indexing-throttle",
          "refId": "H"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_merges_total_stopped_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:merges-total-stopped",
          "refId": "I"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_merges_total_throttled_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:merges-total-throttled",
          "refId": "J"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_percolate_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:percolate",
          "refId": "K"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_recovery_throttle_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:recovery-throttle",
          "refId": "L"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_refresh_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:refresh-total",
          "refId": "M"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_search_fetch_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:search-fetch",
          "refId": "N"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_search_query_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:search-query",
          "refId": "O"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_search_scroll_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:search-scroll",
          "refId": "P"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_store_throttle_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:store-throttle",
          "refId": "Q"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_suggest_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:suggest",
          "refId": "R"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_indices_warmer_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:warmer-total",
          "refId": "S"
        }
      ],
      "title": "Indices time operations",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The average time to complete an operation in indices per second grouped by operation type and OpenSearch node",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "stepAfter",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ms/sec"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byValue",
              "options": {
                "op": "gte",
                "reducer": "allIsNull",
                "value": 0
              }
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": true,
                  "tooltip": true,
                  "viz": false
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 115
      },
      "id": 65077,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_merges_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:merges-total",
          "refId": "C"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_flush_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:flush-total",
          "refId": "A"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_get_exists_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:get-exists",
          "refId": "B"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_get_missing_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:get-missing",
          "refId": "D"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_get_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:get",
          "refId": "E"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_indexing_delete_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:indexing-delete",
          "refId": "F"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_indexing_index_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:indexing-index",
          "refId": "G"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_indexing_throttle_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:indexing-throttle",
          "refId": "H"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_merges_total_stopped_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:merges-total-stopped",
          "refId": "I"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_merges_total_throttled_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:merges-total-throttled",
          "refId": "J"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_percolate_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:percolate",
          "refId": "K"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_recovery_throttle_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:recovery-throttle",
          "refId": "L"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_refresh_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:refresh-total",
          "refId": "M"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_search_fetch_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:search-fetch",
          "refId": "N"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_search_query_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:search-query",
          "refId": "O"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_search_scroll_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:search-scroll",
          "refId": "P"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_store_throttle_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:store-throttle",
          "refId": "Q"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_suggest_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:suggest",
          "refId": "R"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_warmer_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:warmer-total",
          "refId": "S"
        }
      ],
      "title": "Indices time operations rate",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The number of documents stored in indices grouped by OpenSearch nodes",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 123
      },
      "id": 65082,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "alias": "document count",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_indices_docs_count{node_name=~\"^$node_name$\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "{{ node_name }}",
          "measurement": "opensearch_clusterstats_indices",
          "policy": "default",
          "query": "SELECT mean(\"docs_count\") FROM \"opensearch_clusterstats_indices\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"cluster_name\" fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Indices documents count",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The size of data stored in indices grouped by OpenSearch nodes",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 123
      },
      "id": 65080,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "alias": "indices size",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_indices_store_size_in_bytes{node_name=~\"^$node_name$\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "{{ node_name }}",
          "measurement": "opensearch_clusterstats_indices",
          "policy": "default",
          "query": "SELECT mean(\"store_size_in_bytes\") FROM \"opensearch_clusterstats_indices\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"cluster_name\" fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Indices data size",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The number of documents added to indices per second grouped by OpenSearch nodes",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "cps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 131
      },
      "id": 65083,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(rate(opensearch_indices_docs_count{node_name=~\"^$node_name$\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
          "interval": "",
          "legendFormat": "{{ node_name }}",
          "refId": "A"
        }
      ],
      "title": "Indices documents rate",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 139
      },
      "id": 65124,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "Thread pool queues and requests metrics",
      "type": "row"
    },
    {
      "datasource": "$datasource",
      "description": "If you notice the indexing latency increasing, you may be trying to index too many documents at one time (OpenSearch’s documentation recommends starting with a bulk indexing size of 5 to 15 megabytes and increasing slowly from there).\nIf you are planning to index a lot of documents and you don’t need the new information to be immediately available for search, you can optimize for indexing performance over search performance by decreasing refresh frequency until you are done indexing.\nFlush latency:  If you see this metric increasing steadily, it could indicate a problem with slow disks",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ms"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 140
      },
      "id": 65061,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "alias": "$tag_node_name: indexing",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_indices_indexing_index_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name) / sum(opensearch_indices_indexing_index_total{node_name=~\"^$node_name*\",namespace=\"$namespace\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "interval": "",
          "legendFormat": "{{node_name}}:indexing",
          "measurement": "opensearch_indices",
          "policy": "default",
          "query": "SELECT mean(\"indexing_index_time_in_millis\") / mean(\"indexing_index_total\") FROM \"opensearch_indices\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY \"node_name\", time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "$tag_node_name: flush",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_indices_flush_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name) / sum(opensearch_indices_flush_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "{{node_name}}:flush",
          "measurement": "opensearch_indices",
          "policy": "default",
          "query": "SELECT mean(\"flush_total_time_in_millis\") / mean(\"flush_total\") FROM \"opensearch_indices\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY \"node_name\", time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "$tag_node_name: get exists",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_indices_get_exists_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name) / sum(opensearch_indices_get_exists_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "{{node_name}}:get exists",
          "policy": "default",
          "query": "SELECT mean(\"get_exists_time_in_millis\") / mean(\"get_exists_total\") FROM \"opensearch_indices\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY \"node_name\", time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "D",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "$tag_node_name: search query",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_indices_search_query_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name) / sum(opensearch_indices_search_query_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "{{node_name}}:search query",
          "policy": "default",
          "query": "SELECT mean(\"search_query_time_in_millis\") / mean(\"search_query_total\") FROM \"opensearch_indices\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY \"node_name\", time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "E",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "$tag_node_name: fetch query",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_indices_search_fetch_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name) / sum(opensearch_indices_search_fetch_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "{{node_name}}: fetch query",
          "policy": "default",
          "query": "SELECT mean(\"search_fetch_time_in_millis\") / mean(\"search_fetch_total\") FROM \"opensearch_indices\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY \"node_name\", time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "F",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Requests latency",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The size of each thread pool’s queue represents how many requests are waiting to be served while the node is currently at capacity. The queue allows the node to track and eventually serve these requests instead of discarding them. Thread pool rejections arise once the thread pool’s maximum queue size (which varies based on the type of thread pool) is reached.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 140
      },
      "id": 65063,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "alias": "$tag_node_name: $col",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "max(opensearch_thread_pool_write_rejected{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "instant": false,
          "interval": "",
          "legendFormat": "{{node_name}}:write",
          "measurement": "opensearch_thread_pool",
          "policy": "default",
          "query": "SELECT max(\"bulk_rejected\") AS \"bulk\", max(\"get_rejected\") AS \"get\", max(\"index_rejected\") AS \"index\", max(\"search_rejected\") AS \"search\" FROM \"opensearch_thread_pool\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "max(opensearch_thread_pool_get_rejected{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:get",
          "refId": "B"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "max(opensearch_thread_pool_index_rejected{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:index",
          "refId": "C"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "max(opensearch_thread_pool_search_rejected{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:search",
          "refId": "D"
        }
      ],
      "title": "Rejected requests",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "The size of each thread pool’s queue represents how many requests are waiting to be served while the node is currently at capacity.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 147
      },
      "id": 65064,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "alias": "$tag_node_name: $col",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "max(opensearch_thread_pool_write_queue{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "{{node_name}}:write",
          "measurement": "opensearch_thread_pool",
          "policy": "default",
          "query": "SELECT max(\"bulk_queue\") AS \"bulk\", max(\"flush_queue\") AS \"flush\", max(\"get_queue\") AS \"get\", max(\"index_queue\") AS \"index\", max(\"refresh_queue\") AS \"refresh\", max(\"search_queue\") AS \"search\" FROM \"opensearch_thread_pool\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "max(opensearch_thread_pool_flush_queue{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:flush",
          "refId": "B"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "max(opensearch_thread_pool_get_queue{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:get",
          "refId": "C"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "max(opensearch_thread_pool_index_queue{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:index",
          "refId": "D"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "max(opensearch_thread_pool_refresh_queue{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:refresh",
          "refId": "E"
        },
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "max(opensearch_thread_pool_search_queue{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
          "interval": "",
          "legendFormat": "{{node_name}}:search",
          "refId": "F"
        }
      ],
      "title": "Thread pool queues",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 154
      },
      "id": 65126,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "Backup",
      "type": "row"
    },
    {
      "datasource": "$datasource",
      "description": "Shows the current activity status of the backup daemon. The activity status can be one of following:\n* Not Active - There is no running backup process.\n* In Progress/Started - The backup process is running.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "0": {
                  "text": "Not Active"
                },
                "1": {
                  "text": "Success"
                },
                "2": {
                  "text": "Started"
                },
                "3": {
                  "text": "In Progress"
                },
                "4": {
                  "text": "Partial"
                },
                "5": {
                  "text": "Incompatible"
                },
                "6": {
                  "text": "Failed"
                },
                "-1": {
                  "text": "Not Active"
                },
                "-2": {
                  "text": "OpenSearch Is Not Available"
                }
              },
              "type": "value"
            },
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "Not Active"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "text",
                "value": null
              },
              {
                "color": "#629e51",
                "value": 1
              },
              {
                "color": "rgba(245, 54, 54, 0.9)",
                "value": 5
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 0,
        "y": 155
      },
      "id": 65144,
      "interval": "$inter",
      "maxDataPoints": 100,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "text": {
          "valueSize": 70
        },
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "exemplar": false,
          "expr": "opensearch_backups_metric_current_status{namespace=\"$namespace\",cluster=\"$cluster\"}",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_backups_metric",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT last(\"current_status\") FROM \"opensearch_backups_metric\" WHERE (\"project_name\" =~ /^$project$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Backup Daemon Status",
      "type": "stat"
    },
    {
      "datasource": "$datasource",
      "description": "Shows the state of the last backup. The backup status can be one of following:\n \n* SUCCESS - There is at least one successful backup, and the latest backup is successful.\n* FAILED - There are no successful backups, or the last backup failed.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 0,
          "mappings": [
            {
              "options": {
                "0": {
                  "text": "N/A"
                },
                "1": {
                  "text": "Success"
                },
                "2": {
                  "text": "Started"
                },
                "3": {
                  "text": "In Progress"
                },
                "4": {
                  "text": "Partial"
                },
                "5": {
                  "text": "Incompatible"
                },
                "6": {
                  "text": "Failed"
                },
                "-1": {
                  "text": "N/A"
                }
              },
              "type": "value"
            },
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "text",
                "value": null
              },
              {
                "color": "#629e51",
                "value": 1
              },
              {
                "color": "rgba(245, 54, 54, 0.9)",
                "value": 5
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 8,
        "y": 155
      },
      "id": 65101,
      "interval": "$inter",
      "maxDataPoints": 100,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "text": {
          "valueSize": 70
        },
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "opensearch_backups_metric_last_backup_status{namespace=\"$namespace\",cluster=\"$cluster\"}",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_backups_metric",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT last(\"last_backup_status\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Last Backup Status",
      "type": "stat"
    },
    {
      "datasource": "$datasource",
      "description": "Shows the period of time when the last backup process was ended.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 1,
          "mappings": [
            {
              "options": {
                "0": {
                  "text": "N/A"
                },
                "-1": {
                  "text": "N/A"
                }
              },
              "type": "value"
            },
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "dateTimeFromNow"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 16,
        "y": 155
      },
      "hideTimeOverride": false,
      "id": 65105,
      "interval": "$inter",
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "text": {
          "valueSize": 70
        },
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "opensearch_backups_metric_last_snapshot_time{namespace=\"$namespace\",cluster=\"$cluster\"}",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_backups_metric",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT last(\"last_snapshot_time\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Time of Last Backup",
      "type": "stat"
    },
    {
      "datasource": {
        "default": false,
        "type": "prometheus",
        "uid": "$datasource"
      },
      "description": "Shows the current activity status of the backup daemon. The activity status can be one of following:\n* Not Active - There is no running backup process.\n* In Progress/Started - The backup process is running.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "continuous-GrYlRd"
          },
          "custom": {
            "fillOpacity": 70,
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineWidth": 0,
            "spanNulls": false
          },
          "mappings": [
            {
              "options": {
                "0": {
                  "color": "text",
                  "index": 9,
                  "text": "Not Active"
                },
                "1": {
                  "color": "semi-dark-green",
                  "index": 8,
                  "text": "Success"
                },
                "2": {
                  "color": "text",
                  "index": 7,
                  "text": "Started"
                },
                "3": {
                  "color": "text",
                  "index": 6,
                  "text": "In Progress"
                },
                "4": {
                  "color": "text",
                  "index": 5,
                  "text": "Partial"
                },
                "5": {
                  "color": "text",
                  "index": 4,
                  "text": "Incompatible"
                },
                "6": {
                  "color": "semi-dark-red",
                  "index": 3,
                  "text": "Failed"
                },
                "-1": {
                  "color": "text",
                  "index": 2,
                  "text": "Not Active"
                },
                "-2": {
                  "color": "text",
                  "index": 1,
                  "text": "Opensearch Is Not Available"
                },
                "null": {
                  "color": "text",
                  "index": 0,
                  "text": "Not Active"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "semi-dark-red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 0,
        "y": 163
      },
      "id": 65137,
      "interval": "$inter",
      "maxDataPoints": 100,
      "options": {
        "alignValue": "left",
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "mergeValues": true,
        "rowHeight": 0.9,
        "showValue": "never",
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "8.3.3",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "opensearch_backups_metric_current_status{namespace=\"$namespace\",cluster=\"$cluster\"}",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "instant": false,
          "interval": "",
          "legendFormat": "Cluster State",
          "measurement": "elasticsearch_backups_metric",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT last(\"current_status\") FROM \"elasticsearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Backup Daemon Status Transitions",
      "type": "state-timeline"
    },
    {
      "datasource": "$datasource",
      "description": "Shows the backup storage type.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "0": {
                  "text": "N/A"
                },
                "1": {
                  "text": "Persistent Volume"
                },
                "2": {
                  "text": "AWS S3"
                },
                "-1": {
                  "text": "N/A"
                }
              },
              "type": "value"
            },
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 8,
        "y": 163
      },
      "id": 65111,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "text": {
          "valueSize": 70
        },
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "opensearch_backups_metric_storage_type{namespace=\"$namespace\",cluster=\"$cluster\"}",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_backups_metric",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT last(\"storage_type\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Storage Type",
      "type": "stat"
    },
    {
      "datasource": "$datasource",
      "description": "Shows the amount of successful backups.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "-1": {
                  "text": "N/A"
                }
              },
              "type": "value"
            },
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 16,
        "y": 163
      },
      "id": 65099,
      "interval": "$inter",
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "opensearch_backups_metric_count_of_successful_snapshots{namespace=\"$namespace\",cluster=\"$cluster\"}",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_backups_metric",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT last(\"count_of_successful_snapshots\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Successful Backup Versions Count",
      "type": "stat"
    },
    {
      "datasource": "$datasource",
      "description": "Shows the period of time when the last successful backup process was ended.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 0,
          "mappings": [
            {
              "options": {
                "0": {
                  "text": "N/A"
                },
                "-1": {
                  "text": "N/A"
                }
              },
              "type": "value"
            },
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "dateTimeFromNow"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 0,
        "y": 171
      },
      "id": 65107,
      "interval": "$inter",
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "text": {
          "valueSize": 70
        },
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "opensearch_backups_metric_last_snapshot_time{namespace=\"$namespace\",cluster=\"$cluster\"}",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_backups_metric",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT last(\"last_snapshot_time\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Time of Last Successful Backup",
      "type": "stat"
    },
    {
      "datasource": "$datasource",
      "description": "Shows the amount of available backups.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "-1": {
                  "text": "N/A"
                }
              },
              "type": "value"
            },
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 8,
        "y": 171
      },
      "id": 65109,
      "interval": "$inter",
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "opensearch_backups_metric_count_of_snapshots{namespace=\"$namespace\",cluster=\"$cluster\"}",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_backups_metric",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT last(\"count_of_snapshots\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Backup Versions Count",
      "type": "stat"
    },
    {
      "datasource": "$datasource",
      "description": "Shows the space occupied by backups and the remaining amount of space. \nNot all storage supports total size, so \"Total Volume Space\" metrics can be zeroed.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "decbytes"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Total Volume Space"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#890F02",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 0
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Space Used"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#629E51",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 20
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 16,
        "y": 171
      },
      "id": 65113,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.4.3",
      "targets": [
        {
          "alias": "Space Used",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_fs_total_total_in_bytes{namespace=\"$namespace\",cluster=\"$cluster\"})",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "total",
          "measurement": "opensearch_fs",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT (mean(\"total_total_in_bytes\") - mean(\"total_free_in_bytes\")) FROM \"opensearch_fs\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "Total Volume Space",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_fs_total_total_in_bytes{namespace=\"$namespace\",cluster=\"$cluster\"}) - sum(opensearch_fs_total_free_in_bytes{namespace=\"$namespace\",cluster=\"$cluster\"})",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "usage",
          "measurement": "opensearch_fs",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT mean(\"total_total_in_bytes\") FROM \"opensearch_fs\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Storage Size/Free Space",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "Shows the changes of activity status on the chart.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ms"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 0,
        "y": 179
      },
      "id": 65115,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.4.3",
      "targets": [
        {
          "alias": "Time Spent on Each Backup",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "sum(opensearch_backups_metric_last_backup_time_spent{namespace=\"$namespace\",cluster=\"$cluster\"})",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_backups_metric",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT mean(\"last_backup_time_spent\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Backup Activity Status",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "Shows time spent on last backup.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ms"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 8,
        "y": 179
      },
      "id": 65097,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.4.3",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "sum(opensearch_backups_metric_last_backup_time_spent{namespace=\"$namespace\",cluster=\"$cluster\"})",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_backups_metric",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT mean(\"last_backup_time_spent\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Time Spent on Backup",
      "type": "timeseries"
    },
    {
      "datasource": "$datasource",
      "description": "Shows the size of the last backup.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "decbytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 16,
        "y": 179
      },
      "id": 65095,
      "interval": "$inter",
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.4.3",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "expr": "opensearch_backups_metric_last_backup_size{namespace=\"$namespace\",cluster=\"$cluster\"}",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_backups_metric",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT last(\"last_backup_size\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Backup Last Version Size",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 187
      },
      "id": 65127,
      "panels": [],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "DBaaS Health",
      "type": "row"
    },
    {
      "datasource": "$datasource",
      "description": "The status of DBaaS Adapter.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "1": {
                  "color": "semi-dark-red",
                  "index": 5,
                  "text": "DOWN"
                },
                "2": {
                  "color": "semi-dark-red",
                  "index": 4,
                  "text": "PROBLEM"
                },
                "3": {
                  "color": "text",
                  "index": 3,
                  "text": "UNKNOWN"
                },
                "4": {
                  "color": "semi-dark-red",
                  "index": 2,
                  "text": "WARNING"
                },
                "5": {
                  "color": "semi-dark-green",
                  "index": 1,
                  "text": "UP"
                },
                "null": {
                  "color": "text",
                  "index": 0,
                  "text": "N/A"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "semi-dark-red",
                "value": 1
              },
              {
                "color": "semi-dark-yellow",
                "value": 3
              },
              {
                "color": "semi-dark-green",
                "value": 5
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 12,
        "x": 0,
        "y": 188
      },
      "id": 65088,
      "interval": "$inter",
      "maxDataPoints": 100,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "text": {
          "valueSize": 70
        },
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "opensearch_dbaas_health_status{namespace=\"$namespace\",cluster=\"$cluster\"}",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_dbaas_health",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT last(\"status\") FROM \"opensearch_dbaas_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "DBaaS Adapter Status",
      "type": "stat"
    },
    {
      "datasource": "$datasource",
      "description": "The status of OpenSearch cluster from the DBaaS Adapter side",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "1": {
                  "color": "semi-dark-red",
                  "index": 5,
                  "text": "DOWN"
                },
                "2": {
                  "color": "semi-dark-red",
                  "index": 4,
                  "text": "PROBLEM"
                },
                "3": {
                  "color": "text",
                  "index": 3,
                  "text": "UNKNOWN"
                },
                "4": {
                  "color": "semi-dark-red",
                  "index": 2,
                  "text": "WARNING"
                },
                "5": {
                  "color": "semi-dark-green",
                  "index": 1,
                  "text": "UP"
                },
                "null": {
                  "color": "text",
                  "index": 0,
                  "text": "N/A"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green"
              },
              {
                "color": "semi-dark-red",
                "value": 1
              },
              {
                "color": "semi-dark-yellow",
                "value": 3
              },
              {
                "color": "semi-dark-green",
                "value": 5
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 12,
        "x": 12,
        "y": 188
      },
      "id": 65091,
      "interval": "$inter",
      "maxDataPoints": 100,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.2.1",
      "targets": [
        {
          "alias": "Status",
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "dsType": "influxdb",
          "expr": "opensearch_dbaas_health_elastic_cluster_status{namespace=\"$namespace\",cluster=\"$cluster\"}",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_dbaas_health",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT last(\"elastic_cluster_status\")  / 5 FROM \"opensearch_dbaas_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "DBaaS OpenSearch Cluster Status",
      "type": "stat"
    },
    {
      "datasource": {
        "default": false,
        "type": "prometheus",
        "uid": "$datasource"
      },
      "description": "Transitions of DBaaS Adapter statuses",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "continuous-GrYlRd"
          },
          "custom": {
            "fillOpacity": 70,
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineWidth": 0,
            "spanNulls": false
          },
          "mappings": [
            {
              "options": {
                "1": {
                  "color": "semi-dark-red",
                  "index": 5,
                  "text": "DOWN"
                },
                "2": {
                  "color": "text",
                  "index": 4,
                  "text": "PROBLEM"
                },
                "3": {
                  "color": "text",
                  "index": 3,
                  "text": "UNKNOWN"
                },
                "4": {
                  "color": "text",
                  "index": 2,
                  "text": "WARNING"
                },
                "5": {
                  "color": "semi-dark-green",
                  "index": 1,
                  "text": "UP"
                },
                "null": {
                  "color": "text",
                  "index": 0,
                  "text": "N/A"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "semi-dark-red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 12,
        "x": 0,
        "y": 194
      },
      "id": 65139,
      "options": {
        "alignValue": "left",
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "mergeValues": true,
        "rowHeight": 0.9,
        "showValue": "never",
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "opensearch_dbaas_health_status{namespace=\"$namespace\",cluster=\"$cluster\"}",
          "interval": "",
          "legendFormat": "DBaaS Adapter Cluster State",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DBaaS Adapter Status Transitions",
      "type": "state-timeline"
    },
    {
      "datasource": {
        "default": false,
        "type": "prometheus",
        "uid": "$datasource"
      },
      "description": "Transitions of DBaaS OpenSearch cluster status",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "continuous-GrYlRd"
          },
          "custom": {
            "fillOpacity": 70,
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineWidth": 0,
            "spanNulls": false
          },
          "mappings": [
            {
              "options": {
                "1": {
                  "color": "semi-dark-red",
                  "index": 5,
                  "text": "DOWN"
                },
                "2": {
                  "color": "text",
                  "index": 4,
                  "text": "PROBLEM"
                },
                "3": {
                  "color": "text",
                  "index": 3,
                  "text": "UNKNOWN"
                },
                "4": {
                  "color": "text",
                  "index": 2,
                  "text": "WARNING"
                },
                "5": {
                  "color": "semi-dark-green",
                  "index": 1,
                  "text": "UP"
                },
                "null": {
                  "color": "text",
                  "index": 0,
                  "text": "N/A"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "semi-dark-red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 12,
        "x": 12,
        "y": 194
      },
      "id": 65141,
      "options": {
        "alignValue": "left",
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "mergeValues": true,
        "rowHeight": 0.9,
        "showValue": "never",
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "0": "$",
            "1": "d",
            "2": "a",
            "3": "t",
            "4": "a",
            "5": "s",
            "6": "o",
            "7": "u",
            "8": "r",
            "9": "c",
            "10": "e"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "opensearch_dbaas_health_elastic_cluster_status{namespace=\"$namespace\",cluster=\"$cluster\"}",
          "interval": "",
          "legendFormat": "DBaaS OpenSearch Cluster State",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DBaaS OpenSearch Cluster Status Transitions",
      "type": "state-timeline"
    }
  ],
  "refresh": false,
  "schemaVersion": 39,
  "tags": [
    "Prometheus",
    "OpenSearch"
  ],
  "templating": {
    "list": [
      {
        "allFormat": "glob",
        "current": {
          "selected": false,
          "text": "Platform Monitoring Prometheus",
          "value": "Platform Monitoring Prometheus"
        },
        "datasource": "telegraf",
        "hide": 0,
        "includeAll": false,
        "label": "Cloud",
        "multi": false,
        "name": "datasource",
        "options": [],
        "query": "prometheus",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "current": {
          "selected": false,
          "text": "None",
          "value": ""
        },
        "datasource": {
          "type": "prometheus",
          "uid": "$datasource"
        },
        "definition": "",
        "hide": 0,
        "includeAll": false,
        "label": "Cluster",
        "multi": false,
        "name": "cluster",
        "options": [],
        "query": {
          "query": "label_values(opensearch_cluster_health_status_code, cluster)",
          "refId": "StandardVariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "type": "query"
      },
      {
        "current": {
          "selected": false,
          "text": "opensearch-service",
          "value": "opensearch-service"
        },
        "datasource": {
          "type": "prometheus",
          "uid": "$datasource"
        },
        "definition": "label_values(opensearch_cluster_health_status_code{cluster=\"$cluster\"}, namespace)",
        "hide": 0,
        "includeAll": false,
        "label": "Namespace",
        "multi": false,
        "name": "namespace",
        "options": [],
        "query": {
          "query": "label_values(opensearch_cluster_health_status_code, namespace)",
          "refId": "StandardVariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "tagValuesQuery": "",
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "current": {
          "selected": true,
          "text": [
            "All"
          ],
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "$datasource"
        },
        "definition": "label_values(node_name)",
        "hide": 0,
        "includeAll": true,
        "label": "Node name",
        "multi": true,
        "name": "node_name",
        "options": [],
        "query": {
          "query": "label_values(opensearch_fs_total_available_in_bytes{namespace=\"$namespace\"}, node_name)",
          "refId": "Platform Monitoring Prometheus-node_name-Variable-Query"
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "auto": true,
        "auto_count": 100,
        "auto_min": "30s",
        "current": {
          "selected": true,
          "text": "auto",
          "value": "$__auto_interval_inter"
        },
        "hide": 0,
        "includeAll": false,
        "label": "Sampling",
        "multi": false,
        "name": "inter",
        "options": [
          {
            "selected": true,
            "text": "auto",
            "value": "$__auto_interval_inter"
          },
          {
            "selected": false,
            "text": "1m",
            "value": "1m"
          },
          {
            "selected": false,
            "text": "2m",
            "value": "2m"
          },
          {
            "selected": false,
            "text": "5m",
            "value": "5m"
          },
          {
            "selected": false,
            "text": "10m",
            "value": "10m"
          },
          {
            "selected": false,
            "text": "30m",
            "value": "30m"
          },
          {
            "selected": false,
            "text": "1h",
            "value": "1h"
          },
          {
            "selected": false,
            "text": "2h",
            "value": "2h"
          },
          {
            "selected": false,
            "text": "5h",
            "value": "5h"
          },
          {
            "selected": false,
            "text": "10h",
            "value": "10h"
          },
          {
            "selected": false,
            "text": "1d",
            "value": "1d"
          }
        ],
        "query": "1m,2m,5m,10m,30m,1h, 2h, 5h, 10h 1d",
        "refresh": 2,
        "skipUrlSync": false,
        "type": "interval"
      }
    ]
  },
  "time": {
    "from": "now-1h",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "browser",
  "title": "OpenSearch Monitoring",
  "version": 27,
  "weekStart": ""
}