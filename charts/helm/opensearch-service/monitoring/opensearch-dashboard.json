{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "description": "InfluxDB dashboards for telegraf metrics",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "gnetId": 61,
  "graphTooltip": 1,
  "id": 188,
  "iteration": 1648039834561,
  "links": [
    {
      "icon": "external link",
      "tags": [
        "k8s-pod-by-node"
      ],
      "targetBlank": true,
      "title": "Kubernetes / Pod Resources",
      "type": "dashboards"
    },
    {
      "icon": "external link",
      "tags": [
        "prometheus",
        "opensearch",
        "opensearch_name_and_namespace",
        "indices"
      ],
      "targetBlank": true,
      "title": "OpenSearch Indices",
      "tooltip": "Open OpenSearch Indices dashboard",
      "type": "dashboards"
    },
    {
      "icon": "external link",
      "tags": [
        "prometheus",
        "opensearch",
        "opensearch_name_and_namespace",
        "replication"
      ],
      "targetBlank": true,
      "title": "OpenSearch Replication",
      "tooltip": "Open OpenSearch Replication dashboard",
      "type": "dashboards"
    }
  ],
  "liveNow": false,
  "panels": [
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 65116,
      "panels": [],
      "title": "OpenSearch cluster",
      "type": "row"
    },
    {
      "circleBackground": false,
      "colorBackground": false,
      "colorValue": true,
      "datasource": "$datasource",
      "defaultColor": "rgb(117, 117, 117)",
      "description": "Status of OpenSearch cluster.\nIf the cluster status is `degraded`, at least one replica shard is unallocated or missing. The search\n   results will still be complete, but if more shards are missing, you may lose data.\n   \n   A `failed` cluster status indicates that:\n   \n    * At least one primary shard is missing.\n    * You are missing data.\n    * The searches will return partial results.\n    * You will be blocked from indexing into that shard.",
      "format": "none",
      "gauge": {
        "maxValue": 100,
        "minValue": 0,
        "show": false,
        "thresholdLabels": false,
        "thresholdMarkers": true
      },
      "gridPos": {
        "h": 6,
        "w": 4,
        "x": 0,
        "y": 1
      },
      "id": 65072,
      "interval": "$inter",
      "links": [],
      "mappingType": 1,
      "mappingTypes": [
        {
          "name": "value to text",
          "value": 1
        },
        {
          "name": "range to text",
          "value": 2
        }
      ],
      "math": "",
      "maxDataPoints": 100,
      "nullPointMode": "connected",
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        {
          "from": "null",
          "text": "N/A",
          "to": "null"
        }
      ],
      "sortOrder": "asc",
      "sortOrderOptions": [
        {
          "text": "Ascending",
          "value": "asc"
        },
        {
          "text": "Descending",
          "value": "desc"
        }
      ],
      "sparkline": {
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": false
      },
      "tableColumn": "",
      "targets": [
        {
          "datasource": "$datasource",
          "dsType": "influxdb",
          "exemplar": true,
          "expr": "max(opensearch_cluster_health_status_code{namespace=\"$namespace\",cluster=\"$cluster\",status=\"\"})",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "instant": false,
          "interval": "",
          "legendFormat": "",
          "measurement": "opensearch_cluster_health",
          "policy": "default",
          "query": "SELECT max(\"status_code\") FROM \"opensearch_cluster_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "thresholds": [
        {
          "$$hashKey": "object:1348",
          "color": "#37872D",
          "value": 0
        },
        {
          "$$hashKey": "object:1349",
          "color": "#E0B400",
          "value": 6
        },
        {
          "$$hashKey": "object:1350",
          "color": "#C4162A",
          "value": 10
        }
      ],
      "title": "Cluster status",
      "tooltip": {
        "show": true
      },
      "type": "blackmirror1-singlestat-math-panel",
      "valueFontSize": "80%",
      "valueMappingColorBackground": "#767171",
      "valueMaps": [
        {
          "op": "=",
          "text": "N/A",
          "value": "null"
        },
        {
          "op": "=",
          "text": "UP",
          "value": "0"
        },
        {
          "op": "=",
          "text": "DEGRADED",
          "value": "6"
        },
        {
          "op": "=",
          "text": "FAILED",
          "value": "10"
        }
      ],
      "valueName": "current"
    },
    {
      "aliasColors": {
        "Down": "red",
        "scalar(opensearch_cluster_health_total_number_of_nodes{cluster=\"$cluster\",namespace=\"$namespace\"}) - min(opensearch_cluster_health_number_of_nodes{namespace=\"$namespace\",cluster=\"$cluster\"})": "red"
      },
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$datasource",
      "decimals": 0,
      "description": "Status of OpenSearch nodes",
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 6,
        "w": 12,
        "x": 4,
        "y": 1
      },
      "height": "200px",
      "hiddenSeries": false,
      "id": 65073,
      "interval": "$inter",
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": true,
        "max": false,
        "min": false,
        "rightSide": true,
        "show": true,
        "sideWidth": 150,
        "total": false,
        "values": true
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "connected",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.4.3",
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "alias": "/DOWN$/",
          "color": "#58140C",
          "fill": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "alias": "UP",
          "dsType": "influxdb",
          "expr": "min(opensearch_cluster_health_number_of_nodes{namespace=\"$namespace\",cluster=\"$cluster\"})",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "Up",
          "policy": "default",
          "query": "SELECT min(\"number_of_nodes\") FROM \"opensearch_cluster_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "DOWN",
          "dsType": "influxdb",
          "expr": "scalar(opensearch_cluster_health_total_number_of_nodes{cluster=\"$cluster\",namespace=\"$namespace\"}) - min(opensearch_cluster_health_number_of_nodes{namespace=\"$namespace\",cluster=\"$cluster\"})",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "interval": "",
          "legendFormat": "Down",
          "policy": "default",
          "query": "SELECT last(\"total_number_of_nodes\") - min(\"number_of_nodes\") FROM \"opensearch_cluster_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "Nodes status",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "short",
          "logBase": 1,
          "show": true
        },
        {
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "circleBackground": false,
      "colorBackground": false,
      "colorValue": true,
      "datasource": "$datasource",
      "defaultColor": "rgb(117, 117, 117)",
      "description": "Maximum current CPU usage (in percent) among all OpenSearch servers.",
      "format": "percent",
      "gauge": {
        "maxValue": 100,
        "minValue": 0,
        "show": true,
        "thresholdLabels": false,
        "thresholdMarkers": true
      },
      "gridPos": {
        "h": 6,
        "w": 4,
        "x": 16,
        "y": 1
      },
      "id": 65133,
      "links": [],
      "mappingType": 1,
      "mappingTypes": [
        {
          "$$hashKey": "object:41",
          "name": "value to text",
          "value": 1
        },
        {
          "$$hashKey": "object:42",
          "name": "range to text",
          "value": 2
        }
      ],
      "math": "",
      "maxDataPoints": 100,
      "nullPointMode": "connected",
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        {
          "from": "null",
          "text": "N/A",
          "to": "null"
        }
      ],
      "sortOrder": "asc",
      "sortOrderOptions": [
        {
          "text": "Ascending",
          "value": "asc"
        },
        {
          "text": "Descending",
          "value": "desc"
        }
      ],
      "sparkline": {
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": false
      },
      "tableColumn": "",
      "targets": [
        {
          "datasource": "$datasource",
          "exemplar": false,
          "expr": "100 * max(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\", pod=~\"$node_name\",container=\"opensearch\",cluster=\"$cluster\"}[5m])) / max(kube_pod_container_resource_limits_cpu_cores{exported_namespace=\"$namespace\",exported_pod=~\"$node_name\",cluster=\"$cluster\"})",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "thresholds": [
        {
          "$$hashKey": "object:75",
          "color": "#37872D",
          "value": 0
        },
        {
          "$$hashKey": "object:78",
          "color": "#37872D",
          "value": 90
        },
        {
          "$$hashKey": "object:81",
          "color": "#C4162A",
          "value": 100
        }
      ],
      "title": "CPU Usage",
      "tooltip": {
        "show": true
      },
      "type": "blackmirror1-singlestat-math-panel",
      "valueFontSize": "100%",
      "valueMappingColorBackground": "#767171",
      "valueMaps": [
        {
          "$$hashKey": "object:44",
          "op": "=",
          "text": "N/A",
          "value": "null"
        }
      ],
      "valueName": "current"
    },
    {
      "circleBackground": false,
      "colorBackground": false,
      "colorValue": true,
      "datasource": "$datasource",
      "defaultColor": "rgb(117, 117, 117)",
      "description": "Maximum current Memory usage (in percent) among all OpenSearch servers.",
      "format": "percent",
      "gauge": {
        "maxValue": 100,
        "minValue": 0,
        "show": true,
        "thresholdLabels": false,
        "thresholdMarkers": true
      },
      "gridPos": {
        "h": 6,
        "w": 4,
        "x": 20,
        "y": 1
      },
      "id": 65142,
      "links": [],
      "mappingType": 1,
      "mappingTypes": [
        {
          "$$hashKey": "object:41",
          "name": "value to text",
          "value": 1
        },
        {
          "$$hashKey": "object:42",
          "name": "range to text",
          "value": 2
        }
      ],
      "math": "",
      "maxDataPoints": 100,
      "nullPointMode": "connected",
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        {
          "from": "null",
          "text": "N/A",
          "to": "null"
        }
      ],
      "sortOrder": "asc",
      "sortOrderOptions": [
        {
          "text": "Ascending",
          "value": "asc"
        },
        {
          "text": "Descending",
          "value": "desc"
        }
      ],
      "sparkline": {
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": false
      },
      "tableColumn": "",
      "targets": [
        {
          "datasource": "$datasource",
          "exemplar": false,
          "expr": "100 * max(container_memory_working_set_bytes{namespace=\"$namespace\", pod=~\"$node_name\",container=\"opensearch\",cluster=\"$cluster\"}) / max(container_spec_memory_limit_bytes{namespace=\"$namespace\", pod=~\"$node_name\", container=\"opensearch\",cluster=\"$cluster\"})",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "thresholds": [
        {
          "$$hashKey": "object:75",
          "color": "#37872D",
          "value": 0
        },
        {
          "$$hashKey": "object:78",
          "color": "#37872D",
          "value": 90
        },
        {
          "$$hashKey": "object:81",
          "color": "#C4162A",
          "value": 100
        }
      ],
      "title": "Memory Usage",
      "tooltip": {
        "show": true
      },
      "type": "blackmirror1-singlestat-math-panel",
      "valueFontSize": "100%",
      "valueMappingColorBackground": "#767171",
      "valueMaps": [
        {
          "$$hashKey": "object:44",
          "op": "=",
          "text": "N/A",
          "value": "null"
        }
      ],
      "valueName": "current"
    },
    {
      "backgroundColor": "rgba(128,128,128,0.1)",
      "colorMaps": [
        {
          "$$hashKey": "object:397",
          "color": "#CCC",
          "text": "N/A"
        },
        {
          "$$hashKey": "object:400",
          "color": "#37872D",
          "text": "UP"
        },
        {
          "$$hashKey": "object:403",
          "color": "#FF780A",
          "text": "DEGRADED"
        },
        {
          "$$hashKey": "object:406",
          "color": "#C4162A",
          "text": "DOWN"
        }
      ],
      "crosshairColor": "#8F070C",
      "datasource": "$datasource",
      "description": "Transitions of OpenSearch cluster status",
      "display": "timeline",
      "expandFromQueryS": 0,
      "extendLastValue": true,
      "gridPos": {
        "h": 6,
        "w": 12,
        "x": 0,
        "y": 7
      },
      "highlightOnMouseover": true,
      "id": 65131,
      "legendSortBy": "-ms",
      "lineColor": "rgba(0,0,0,0.1)",
      "metricNameColor": "#000000",
      "rangeMaps": [
        {
          "$$hashKey": "object:276",
          "from": "null",
          "text": "N/A",
          "to": "null"
        }
      ],
      "rowHeight": 50,
      "showLegend": false,
      "showLegendNames": true,
      "showLegendPercent": true,
      "showLegendValues": true,
      "showTimeAxis": true,
      "targets": [
        {
          "datasource": "$datasource",
          "exemplar": true,
          "expr": "max(opensearch_cluster_health_status_code{namespace=\"$namespace\",cluster=\"$cluster\",status=\"\"})",
          "interval": "",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "textSize": 24,
      "textSizeTime": 12,
      "timeOptions": [
        {
          "name": "Years",
          "value": "years"
        },
        {
          "name": "Months",
          "value": "months"
        },
        {
          "name": "Weeks",
          "value": "weeks"
        },
        {
          "name": "Days",
          "value": "days"
        },
        {
          "name": "Hours",
          "value": "hours"
        },
        {
          "name": "Minutes",
          "value": "minutes"
        },
        {
          "name": "Seconds",
          "value": "seconds"
        },
        {
          "name": "Milliseconds",
          "value": "milliseconds"
        }
      ],
      "timePrecision": {
        "name": "Minutes",
        "value": "minutes"
      },
      "timeTextColor": "#d8d9da",
      "title": "Cluster Status Transitions",
      "type": "natel-discrete-panel",
      "units": "short",
      "use12HourClock": false,
      "useTimePrecision": false,
      "valueMaps": [
        {
          "$$hashKey": "object:274",
          "op": "=",
          "text": "N/A",
          "value": "null"
        },
        {
          "$$hashKey": "object:322",
          "op": "=",
          "text": "UP",
          "value": "0"
        },
        {
          "$$hashKey": "object:324",
          "op": "=",
          "text": "DEGRADED",
          "value": "6"
        },
        {
          "$$hashKey": "object:326",
          "op": "=",
          "text": "DOWN",
          "value": "10"
        }
      ],
      "valueTextColor": "#000000",
      "writeAllValues": false,
      "writeLastValue": false,
      "writeMetricNames": false
    },
    {
      "backgroundColor": "rgba(128,128,128,0.1)",
      "colorMaps": [
        {
          "$$hashKey": "object:468",
          "color": "#CCC",
          "text": "N/A"
        },
        {
          "$$hashKey": "object:513",
          "color": "#37872D",
          "text": "SUCCESS"
        },
        {
          "$$hashKey": "object:516",
          "color": "#E02F44",
          "text": "FAILURE"
        }
      ],
      "crosshairColor": "#8F070C",
      "datasource": "$datasource",
      "description": "Transitions of readiness probes for each OpenSearch pod.",
      "display": "timeline",
      "expandFromQueryS": 0,
      "extendLastValue": true,
      "gridPos": {
        "h": 6,
        "w": 12,
        "x": 12,
        "y": 7
      },
      "highlightOnMouseover": true,
      "id": 65129,
      "legendSortBy": "-ms",
      "lineColor": "rgba(0,0,0,0.1)",
      "metricNameColor": "#000000",
      "rangeMaps": [
        {
          "$$hashKey": "object:380",
          "from": "null",
          "text": "N/A",
          "to": "null"
        }
      ],
      "rowHeight": 50,
      "showLegend": false,
      "showLegendNames": true,
      "showLegendPercent": true,
      "showLegendValues": true,
      "showTimeAxis": true,
      "targets": [
        {
          "datasource": "$datasource",
          "exemplar": true,
          "expr": "min(kube_pod_status_ready{exported_namespace=\"$namespace\", exported_pod=~\"$node_name\", condition=\"true\", cluster=\"$cluster\"}) by (exported_pod)",
          "interval": "",
          "legendFormat": "{{exported_pod}}",
          "refId": "A"
        }
      ],
      "textSize": 24,
      "textSizeTime": 12,
      "timeOptions": [
        {
          "name": "Years",
          "value": "years"
        },
        {
          "name": "Months",
          "value": "months"
        },
        {
          "name": "Weeks",
          "value": "weeks"
        },
        {
          "name": "Days",
          "value": "days"
        },
        {
          "name": "Hours",
          "value": "hours"
        },
        {
          "name": "Minutes",
          "value": "minutes"
        },
        {
          "name": "Seconds",
          "value": "seconds"
        },
        {
          "name": "Milliseconds",
          "value": "milliseconds"
        }
      ],
      "timePrecision": {
        "name": "Minutes",
        "value": "minutes"
      },
      "timeTextColor": "#d8d9da",
      "title": "Pod Readiness Probe Transitions",
      "type": "natel-discrete-panel",
      "units": "short",
      "use12HourClock": false,
      "useTimePrecision": false,
      "valueMaps": [
        {
          "$$hashKey": "object:378",
          "op": "=",
          "text": "N/A",
          "value": "null"
        },
        {
          "$$hashKey": "object:519",
          "op": "=",
          "text": "SUCCESS",
          "value": "1"
        },
        {
          "$$hashKey": "object:521",
          "op": "=",
          "text": "FAILURE",
          "value": "0"
        }
      ],
      "valueTextColor": "#000000",
      "writeAllValues": false,
      "writeLastValue": false,
      "writeMetricNames": true
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 13
      },
      "id": 65117,
      "panels": [
        {
          "datasource": "$datasource",
          "description": "The number of active primary shards in OpenSearch cluster",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "rgb(31, 120, 193)",
                "mode": "fixed"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 3,
            "w": 6,
            "x": 0,
            "y": 14
          },
          "id": 65038,
          "interval": "",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "none",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "8.3.3",
          "targets": [
            {
              "dsType": "influxdb",
              "expr": "opensearch_cluster_health_active_primary_shards{cluster=\"$cluster\",namespace=\"$namespace\"}",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_cluster_health",
              "policy": "default",
              "query": "SELECT last(\"active_primary_shards\") FROM \"opensearch_cluster_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(0)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Active primary shards",
          "type": "stat"
        },
        {
          "datasource": "$datasource",
          "description": "The number of active primary and replica shards in OpenSearch cluster",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "rgb(31, 120, 193)",
                "mode": "fixed"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 3,
            "w": 6,
            "x": 6,
            "y": 14
          },
          "id": 65039,
          "interval": "",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "none",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "8.3.3",
          "targets": [
            {
              "dsType": "influxdb",
              "expr": "opensearch_cluster_health_active_shards{cluster=\"$cluster\",namespace=\"$namespace\"}",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_cluster_health",
              "policy": "default",
              "query": "SELECT last(\"active_shards\") FROM \"opensearch_cluster_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(0)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Active shards",
          "type": "stat"
        },
        {
          "datasource": "$datasource",
          "description": "The number of shards that are in the `initializing` state. When you first create an index, or when a node is rebooted, its shards are briefly in the `initializing` state before transitioning to `started` or `unassigned` as the master node attempts to assign shards to nodes in the cluster. If you see the shards remain in the `initializing` state for too long, it could be a warning sign that your cluster is unstable.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "rgb(31, 120, 193)",
                "mode": "fixed"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 3,
            "w": 4,
            "x": 12,
            "y": 14
          },
          "id": 65040,
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "none",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "8.3.3",
          "targets": [
            {
              "dsType": "influxdb",
              "expr": "opensearch_cluster_health_initializing_shards{cluster=\"$cluster\",namespace=\"$namespace\"}",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_cluster_health",
              "policy": "default",
              "query": "SELECT last(\"initializing_shards\") FROM \"opensearch_cluster_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(0)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Initializing shards",
          "type": "stat"
        },
        {
          "datasource": "$datasource",
          "description": "The number of shards that are relocating now and have the `relocating` state.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "rgb(31, 120, 193)",
                "mode": "fixed"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 3,
            "w": 4,
            "x": 16,
            "y": 14
          },
          "id": 65041,
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "none",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "8.3.3",
          "targets": [
            {
              "dsType": "influxdb",
              "expr": "opensearch_cluster_health_relocating_shards{cluster=\"$cluster\",namespace=\"$namespace\"}",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_cluster_health",
              "policy": "default",
              "query": "SELECT last(\"relocating_shards\") FROM \"opensearch_cluster_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(0)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Relocating shards",
          "type": "stat"
        },
        {
          "datasource": "$datasource",
          "description": "The number of shards that are not assigned to any node and have the `unassigned` state. If you see the shards remain in the `unassigned` state for too long, it could be a warning sign that your cluster is unstable.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "rgb(31, 120, 193)",
                "mode": "fixed"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 3,
            "w": 4,
            "x": 20,
            "y": 14
          },
          "id": 65042,
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "none",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "8.3.3",
          "targets": [
            {
              "dsType": "influxdb",
              "expr": "max(opensearch_cluster_health_unassigned_shards{cluster=\"$cluster\",namespace=\"$namespace\"})",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_cluster_health",
              "policy": "default",
              "query": "SELECT max(\"unassigned_shards\") FROM \"opensearch_cluster_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(0)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Unassigned shards",
          "type": "stat"
        }
      ],
      "title": "OpenSearch shards",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 14
      },
      "id": 65291,
      "panels": [
        {
          "datasource": "$datasource",
          "description": "The number of tasks in 'pending' status in OpenSearch cluster",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "rgb(31, 120, 193)",
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "yellow",
                    "value": 1
                  },
                  {
                    "color": "red",
                    "value": 5
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 6,
            "x": 0,
            "y": 15
          },
          "id": 65922,
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "8.3.3",
          "targets": [
            {
              "datasource": "$datasource",
              "exemplar": false,
              "expr": "opensearch_cluster_health_number_of_pending_tasks{cluster=\"$cluster\",namespace=\"$namespace\"}",
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "A"
            }
          ],
          "title": "Pending Tasks",
          "type": "stat"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The maximum time in milliseconds that task is waiting in queue",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 18,
            "x": 6,
            "y": 15
          },
          "hiddenSeries": false,
          "id": 65923,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": false,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.4.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "$datasource",
              "exemplar": true,
              "expr": "max(opensearch_cluster_health_task_max_waiting_in_queue_millis{cluster=\"$cluster\",namespace=\"$namespace\"})",
              "instant": false,
              "interval": "",
              "legendFormat": "time of max waiting task",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Time of Most Waiting Task",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "ms",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        }
      ],
      "title": "OpenSearch tasks",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 15
      },
      "id": 65118,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The number of open transport connections for each OpenSearch node. May be not applicable for managed external OpenSearch.",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 16
          },
          "hiddenSeries": false,
          "id": 65074,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.4.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_node_name",
              "dsType": "influxdb",
              "expr": "max(opensearch_transport_server_open{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "{{node_name}}",
              "measurement": "opensearch_transport",
              "policy": "default",
              "query": "SELECT max(\"server_open\") FROM \"opensearch_transport\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Open transport connections",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The number of open HTTP connections for each OpenSearch node. If the total number of open HTTP connections is constantly increasing, it may indicate that your HTTP clients are not properly establishing persistent connections. Reestablishing connections adds extra milliseconds or even seconds to your request response time.",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 16
          },
          "hiddenSeries": false,
          "id": 65049,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.4.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_node_name.$col",
              "dsType": "influxdb",
              "expr": "max(opensearch_http_current_open{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "interval": "",
              "legendFormat": "{{node_name}}",
              "measurement": "opensearch_http",
              "policy": "default",
              "query": "SELECT max(\"current_open\") as \"open\" FROM \"opensearch_http\" WHERE (node_name =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Open http connections",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "none",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The rate of change between subsequent size values of received (rx) and transmitted (tx) packages for each OpenSearch node. May be not applicable for managed external OpenSearch.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "grid": {},
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 23
          },
          "hiddenSeries": false,
          "id": 65048,
          "interval": "2m",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.4.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "/rx/",
              "transform": "negative-Y"
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "_comment": "In the query 'count(rx_size_in_bytes) / count(rx_size_in_bytes)' part is added to have 'null' results, because by default 'non_negative_derivative' function returns nothing if interval does not contain values.",
              "alias": "$tag_node_name: rx",
              "datasource": "$datasource",
              "dsType": "influxdb",
              "expr": "sum(irate(opensearch_transport_rx_size_in_bytes{namespace=\"$namespace\",node_name=~\"^$node_name*\",cluster=\"$cluster\"}[$__interval])) by (node_name, node_host)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "interval": "",
              "legendFormat": "{{node_name}}[{{node_host}}:rx]",
              "measurement": "opensearch_transport",
              "policy": "default",
              "query": "SELECT non_negative_derivative(mean(\"rx_size_in_bytes\"), 1s) * count(\"rx_size_in_bytes\") / count(\"rx_size_in_bytes\") FROM \"opensearch_transport\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "_comment": "In the query 'count(tx_size_in_bytes) / count(tx_size_in_bytes)' part is added to have 'null' results, because by default 'non_negative_derivative' function returns nothing if interval does not contain values.",
              "alias": "$tag_node_name: tx",
              "datasource": "$datasource",
              "dsType": "influxdb",
              "exemplar": true,
              "expr": "sum(irate(opensearch_transport_tx_size_in_bytes{namespace=\"$namespace\",node_name=~\"^$node_name*\",cluster=\"$cluster\"}[$__interval])) by (node_name, node_host)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "interval": "",
              "legendFormat": "{{node_name}}[{{node_host}}:tx]",
              "measurement": "opensearch_transport",
              "policy": "default",
              "query": "SELECT non_negative_derivative(mean(\"tx_size_in_bytes\"), 1s) * count(\"tx_size_in_bytes\") / count(\"tx_size_in_bytes\") FROM \"opensearch_transport\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND \"cluster\"=\"$cluster\" AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Transport size",
          "tooltip": {
            "shared": false,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": [
              "current"
            ]
          },
          "yaxes": [
            {
              "format": "binBps",
              "logBase": 1,
              "show": true
            },
            {
              "format": "none",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        }
      ],
      "title": "Network metrics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 16
      },
      "id": 65119,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The usage of JVM heap memory by each OpenSearch node",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 17
          },
          "hiddenSeries": false,
          "id": 65069,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": 350,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "/total/",
              "color": "#890F02",
              "fill": 0,
              "linewidth": 2
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_node_name: $col",
              "dsType": "influxdb",
              "expr": "sum(opensearch_jvm_mem_heap_used_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "used:{{node_name}}",
              "measurement": "opensearch_jvm",
              "policy": "default",
              "query": "SELECT mean(\"mem_heap_used_in_bytes\") AS \"used\", mean(\"mem_heap_max_in_bytes\") AS \"total\" FROM \"opensearch_jvm\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "expr": "sum(opensearch_jvm_mem_heap_max_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "total:{{node_name}}",
              "refId": "B"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "JVM heap usage",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "OpenSearch is set up to initiate garbage collections whenever JVM heap usage hits 75 percent. As shown above, it may be useful to monitor which nodes exhibit high heap usage, and set up an alert to find out if any node is consistently using over 85 percent of heap memory; this indicates that the rate of garbage collection isnt keeping up with the rate of garbage creation. To address this problem, you can either increase your heap size (as long as it remains below the recommended guidelines stated above), or scale out the cluster by adding more nodes.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "grid": {},
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 17
          },
          "hiddenSeries": false,
          "id": 65046,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 2,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": true,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_node_name",
              "dsType": "influxdb",
              "expr": "sum(opensearch_jvm_mem_heap_used_percent{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "interval": "",
              "legendFormat": "{{node_name}}",
              "measurement": "opensearch_jvm",
              "policy": "default",
              "query": "SELECT mean(\"mem_heap_used_percent\") FROM \"opensearch_jvm\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [
            {
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 85
            }
          ],
          "timeRegions": [],
          "title": "JVM heap usage percent",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "percent",
              "logBase": 1,
              "max": 100,
              "min": 0,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The usage of memory outside the JVM heap by each OpenSearch node",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 24
          },
          "hiddenSeries": false,
          "id": 65076,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": 350,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "/total$/",
              "color": "#890F02",
              "fill": 0
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_node_name: $col",
              "dsType": "influxdb",
              "expr": "sum(opensearch_jvm_mem_non_heap_used_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "{{node_name}}",
              "measurement": "opensearch_jvm",
              "policy": "default",
              "query": "SELECT mean(\"mem_non_heap_used_in_bytes\") AS \"used\" FROM \"opensearch_jvm\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "JVM non heap usage",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Time spent on major GCs that collect old generation objects and on minor GCs that collects young generation objects in JVM (time rate per sampling interval).",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 24
          },
          "hiddenSeries": false,
          "id": 65062,
          "interval": "2m",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 2,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_node_name: $col",
              "dsType": "influxdb",
              "expr": "sum(irate(opensearch_jvm_gc_collectors_old_collection_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[$__interval])) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "old:{{node_name}}",
              "measurement": "opensearch_jvm",
              "policy": "default",
              "query": "SELECT non_negative_difference(max(\"gc_collectors_old_collection_time_in_millis\")) * mean(\"gc_collectors_old_collection_time_in_millis\") / mean(\"gc_collectors_old_collection_time_in_millis\") AS \"old\", non_negative_difference(max(\"gc_collectors_young_collection_time_in_millis\")) * mean(\"gc_collectors_young_collection_time_in_millis\") / mean(\"gc_collectors_young_collection_time_in_millis\") AS \"young\" FROM \"opensearch_jvm\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "expr": "sum(irate(opensearch_jvm_gc_collectors_young_collection_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[$__interval])) by (node_name)",
              "interval": "",
              "legendFormat": "young:{{node_name}}",
              "refId": "B"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "GC time",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "ms",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        }
      ],
      "title": "JVM heap and GC metrics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 17
      },
      "id": 65120,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The usage of memory by each OpenSearch node and its limit. These metric is useful to avoid reaching the memory limit on nodes.",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 18
          },
          "hiddenSeries": false,
          "id": 65067,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "/limit/",
              "color": "#890F02",
              "fill": 0,
              "linewidth": 2
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_pod_name used",
              "dsType": "influxdb",
              "expr": "sum(container_memory_usage_bytes{namespace=\"$namespace\",pod=~\"$node_name\",container!=\"\",cluster=\"$cluster\"}) by (pod)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "{{pod}}:allocated",
              "measurement": "memory/usage",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"memory/usage\" WHERE (\"pod_name\" =~ /^$node_name$*/ AND \"type\" = 'pod' AND \"namespace_name\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"pod_name\" fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$tag_pod_name total",
              "dsType": "influxdb",
              "expr": "sum(kube_pod_container_resource_limits_memory_bytes{exported_namespace=\"$namespace\",exported_pod=~\"$node_name\",cluster=\"$cluster\"}) by (exported_pod)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "{{exported_pod}}:limit",
              "measurement": "memory/limit",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"memory/limit\" WHERE (\"pod_name\" =~ /^$node_name$*/ AND \"type\" = 'pod' AND \"namespace_name\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"pod_name\" fill(null)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "expr": "sum(container_memory_working_set_bytes{namespace=\"$namespace\",pod=~\"$node_name\",container!=\"\",cluster=\"$cluster\"}) by (pod)",
              "interval": "",
              "legendFormat": "{{pod}}:usage",
              "refId": "C"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "OS memory usage",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        }
      ],
      "title": "Memory metrics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 18
      },
      "id": 65121,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The usage of disk space in percent for an OpenSearch node",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "grid": {},
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 19
          },
          "hiddenSeries": false,
          "id": 65047,
          "interval": "1m",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 2,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.4.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "/total/",
              "color": "#BF1B00",
              "fill": 0
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_node_name [$tag_node_host] used",
              "dsType": "influxdb",
              "expr": "100 * (((sum(opensearch_fs_total_total_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)) - (sum(opensearch_fs_total_free_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name))) / sum(opensearch_fs_total_total_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)) ",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "{{node_name}}",
              "measurement": "opensearch_fs",
              "policy": "default",
              "query": "SELECT 100 * (mean(\"total_total_in_bytes\") - mean(\"total_free_in_bytes\")) / mean(\"total_total_in_bytes\") FROM \"opensearch_fs\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\" ,\"node_host\" fill(null)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Disk usage in percent",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "percent",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The usage of disk space allocated to each OpenSearch node and its limit",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "grid": {},
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 19
          },
          "hiddenSeries": false,
          "id": 65068,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 2,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.4.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "/total/",
              "color": "#BF1B00",
              "fill": 0,
              "linewidth": 2
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_node_name [$tag_node_host] total",
              "datasource": "$datasource",
              "dsType": "influxdb",
              "expr": "sum(opensearch_fs_total_total_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "interval": "",
              "legendFormat": "total: {{node_name}}",
              "measurement": "opensearch_fs",
              "policy": "default",
              "query": "SELECT mean(\"total_total_in_bytes\") FROM \"opensearch_fs\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\", \"node_host\" fill(null)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$tag_node_name [$tag_node_host] used",
              "datasource": "$datasource",
              "dsType": "influxdb",
              "exemplar": true,
              "expr": "sum(opensearch_fs_total_total_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name) - sum(opensearch_fs_total_available_in_bytes{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "used: {{node_name}}",
              "measurement": "opensearch_fs",
              "policy": "default",
              "query": "SELECT mean(\"total_total_in_bytes\") - mean( \"total_available_in_bytes\") FROM \"opensearch_fs\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY  time($__interval), \"node_name\", \"node_host\" fill(null)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Disk usage",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The rate of change between subsequent values of input/output operations per second for each OpenSearch node",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 26
          },
          "hiddenSeries": false,
          "id": 65070,
          "interval": "2m",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 2,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.4.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "_comment": "In the query 'count(io_stats_total_read_operations) / count(io_stats_total_read_operations)' part is added to have 'null' results, because by default 'non_negative_derivative' function returns nothing if interval does not contain values.",
              "alias": "$tag_node_name [$tag_node_host] $col",
              "dsType": "influxdb",
              "expr": "sum(irate(opensearch_fs_io_stats_total_write_operations{namespace=\"$namespace\",node_name=~\"^$node_name*\",cluster=\"$cluster\"}[$__interval])) by (node_name, node_host)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "{{node_name}}[{{node_host}}]:write",
              "measurement": "opensearch_fs",
              "policy": "default",
              "query": "SELECT non_negative_derivative(mean(\"io_stats_total_read_operations\"), 1s) * count(\"io_stats_total_read_operations\") / count(\"io_stats_total_read_operations\") AS \"read\", non_negative_derivative(mean(\"io_stats_total_write_operations\"), 1s) AS \"write\" FROM \"opensearch_fs\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\", \"node_host\" fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "expr": "sum(irate(opensearch_fs_io_stats_total_read_operations{namespace=\"$namespace\",node_name=~\"^$node_name*\",cluster=\"$cluster\"}[$__interval])) by (node_name, node_host)",
              "interval": "",
              "legendFormat": "{{node_name}}[{{node_host}}]:read",
              "refId": "B"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Disk I/O operations",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "iops",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The rate of change between subsequent values of disk usage for each OpenSearch node",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 26
          },
          "hiddenSeries": false,
          "id": 65071,
          "interval": "2m",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 2,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.4.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "_comment": "In the query 'count(io_stats_total_read_kilobytes) / count(io_stats_total_read_kilobytes)' part is added to have 'null' results, because by default 'non_negative_derivative' function returns nothing if interval does not contain values.",
              "alias": "$tag_node_name [$tag_node_host] $col",
              "datasource": "$datasource",
              "dsType": "influxdb",
              "expr": "sum(irate(opensearch_fs_io_stats_total_read_kilobytes{namespace=\"$namespace\",node_name=~\"^$node_name*\",cluster=\"$cluster\"}[$__interval])) by (node_name, node_host)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "interval": "",
              "legendFormat": "{{node_name}}[{{node_host}}:read]",
              "policy": "default",
              "query": "SELECT non_negative_derivative(mean(\"io_stats_total_read_kilobytes\"), 1s) * count(\"io_stats_total_read_kilobytes\") / count(\"io_stats_total_read_kilobytes\") AS \"read\", non_negative_derivative(mean(\"io_stats_total_write_kilobytes\"), 1s) AS \"write\" FROM \"opensearch_fs\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\", \"node_host\" fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "datasource": "$datasource",
              "exemplar": true,
              "expr": "sum(irate(opensearch_fs_io_stats_total_write_kilobytes{namespace=\"$namespace\",node_name=~\"^$node_name*\",cluster=\"$cluster\"}[$__interval])) by (node_name, node_host)",
              "interval": "",
              "legendFormat": "{{node_name}}[{{node_host}}:write]",
              "refId": "B"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Disk I/O usage",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "KBs",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The amount of open file descriptors for each OpenSearch node",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 33
          },
          "hiddenSeries": false,
          "id": 65135,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideZero": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.4.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "$datasource",
              "exemplar": true,
              "expr": "max(opensearch_process_open_file_descriptors{namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "hide": false,
              "interval": "",
              "legendFormat": "{{node_name}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Open File Descriptors",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:1770",
              "format": "none",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:1771",
              "format": "short",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        }
      ],
      "title": "Disk metrics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 19
      },
      "id": 65122,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Five-minute load average on the system",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 20
          },
          "hiddenSeries": false,
          "id": 65050,
          "interval": "1m",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_node_name [$tag_node_host]",
              "dsType": "influxdb",
              "expr": "sum(opensearch_os_cpu_load_average_5m{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name, node_host)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "{{node_name}} [{{node_host}}]",
              "measurement": "opensearch_os",
              "policy": "default",
              "query": "SELECT mean(\"cpu_load_average_5m\") FROM \"opensearch_os\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\", \"node_host\" fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "CPU load average (5 min)",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "percent",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The usage of CPU in percent for each OpenSearch node",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "grid": {},
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 20
          },
          "hiddenSeries": false,
          "id": 65045,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "maxPerRow": 2,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_node_name [$tag_node_host]",
              "dsType": "influxdb",
              "expr": "sum(opensearch_process_cpu_percent{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name, node_host)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "{{node_name}}[{{node_host}}]",
              "measurement": "opensearch_process",
              "policy": "default",
              "query": "SELECT mean(\"cpu_percent\") FROM \"opensearch_process\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"node_name\", \"node_host\" fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "CPU load in percent",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "percent",
              "logBase": 1,
              "min": 0,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The usage of CPU by each OpenSearch node and its limit",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "grid": {},
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 27
          },
          "hiddenSeries": false,
          "id": 65075,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "maxPerRow": 2,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "/limit/",
              "color": "#890F02",
              "fill": 0,
              "linewidth": 2
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_pod_name",
              "dsType": "influxdb",
              "expr": "(sum(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\", pod=~\"$node_name\",container!=\"\",cluster=\"$cluster\"}[1m])) by (pod)) * 1000",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "Usage: {{pod}}",
              "measurement": "cpu/usage_rate",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"cpu/usage_rate\" WHERE (\"pod_name\" =~ /^$node_name$*/ AND \"type\" = 'pod' AND \"namespace_name\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"pod_name\" fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$tag_pod_name total",
              "dsType": "influxdb",
              "expr": "(sum(kube_pod_container_resource_limits_cpu_cores{exported_namespace=\"$namespace\",exported_pod=~\"$node_name\",cluster=\"$cluster\"}) by (exported_pod)) * 1000",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "Limit: {{exported_pod}}",
              "measurement": "cpu/limit",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"cpu/limit\" WHERE (\"pod_name\" =~ /^$node_name$*/ AND \"type\" = 'pod' AND \"namespace_name\" =~ /^$namespace$/) AND $timeFilter GROUP BY time($__interval), \"pod_name\" fill(null)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "CPU load by pod",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": "Millicores",
              "logBase": 1,
              "min": 0,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        }
      ],
      "title": "CPU metrics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 20
      },
      "id": 65123,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The number of operations performed by indices at the moment grouped by operation type and OpenSearch node",
          "editable": true,
          "error": false,
          "fill": 0,
          "fillGradient": 0,
          "grid": {},
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "hiddenSeries": false,
          "id": 65059,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": true,
          "targets": [
            {
              "alias": "$tag_node_name: $col",
              "dsType": "influxdb",
              "expr": "sum(opensearch_indices_flush_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:flush",
              "measurement": "opensearch_indices",
              "policy": "default",
              "query": "SELECT  mean(flush_total) as \"flush\", mean(get_exists_total) as \"get-exists\", mean(get_missing_total) as \"get-missing\", mean(get_total) as \"get\", mean(indexing_delete_total) as \"indexing-delete\", mean(indexing_index_total) as \"indexing-index\", mean(indexing_noop_update_total) as \"indexing-noop-update\", mean(merges_total) as \"merges\", mean(percolate_total) as \"percolate\", mean(refresh_total) as \"refresh\", mean(search_fetch_total) as \"search-fetch\", mean(search_query_total) as \"search-query\", mean(search_scroll_total) as \"search-scroll\", mean(suggest_total) as \"suggest\", mean(warmer_total) as \"warmer\" FROM \"opensearch_indices\" WHERE (node_name =~ /$node_name/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY time($__interval), * fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "tags": []
            },
            {
              "expr": "sum(opensearch_indices_get_exists_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:get-exists",
              "refId": "B"
            },
            {
              "expr": "sum(opensearch_indices_get_missing_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:get-missing",
              "refId": "C"
            },
            {
              "expr": "sum(opensearch_indices_get_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}: get",
              "refId": "D"
            },
            {
              "expr": "sum(opensearch_indices_indexing_delete_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:indexing-delete",
              "refId": "E"
            },
            {
              "expr": "sum(opensearch_indices_indexing_index_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:indexing-index",
              "refId": "F"
            },
            {
              "expr": "sum(opensearch_indices_indexing_noop_update_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:indexing-noop-update",
              "refId": "G"
            },
            {
              "expr": "sum(opensearch_indices_merges_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:merges",
              "refId": "H"
            },
            {
              "expr": "sum(opensearch_indices_percolate_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:percolate",
              "refId": "I"
            },
            {
              "expr": "sum(opensearch_indices_refresh_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:refresh",
              "refId": "J"
            },
            {
              "expr": "sum(opensearch_indices_search_fetch_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:search-fetch",
              "refId": "K"
            },
            {
              "expr": "sum(opensearch_indices_search_query_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:search-query",
              "refId": "L"
            },
            {
              "expr": "sum(opensearch_indices_search_scroll_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:search-scroll",
              "refId": "M"
            },
            {
              "expr": "sum(opensearch_indices_suggest_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:suggest",
              "refId": "N"
            },
            {
              "expr": "sum(opensearch_indices_warmer_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:warmer",
              "refId": "O"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Indices total operations",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The operations number performed by indices per second grouped by operation type and OpenSearch node",
          "editable": true,
          "error": false,
          "fill": 0,
          "fillGradient": 0,
          "grid": {},
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "hiddenSeries": false,
          "id": 65060,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": true,
          "targets": [
            {
              "expr": "sum(rate(opensearch_indices_flush_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:flush",
              "refId": "A"
            },
            {
              "expr": "sum(rate(opensearch_indices_get_exists_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:get-exists",
              "refId": "B"
            },
            {
              "expr": "sum(rate(opensearch_indices_get_missing_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:get-missing",
              "refId": "C"
            },
            {
              "expr": "sum(rate(opensearch_indices_get_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:get",
              "refId": "D"
            },
            {
              "expr": "sum(rate(opensearch_indices_indexing_delete_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:indexing-delete",
              "refId": "E"
            },
            {
              "expr": "sum(rate(opensearch_indices_indexing_index_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:indexing-index",
              "refId": "F"
            },
            {
              "expr": "sum(rate(opensearch_indices_indexing_noop_update_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:indexing-noop-update",
              "refId": "G"
            },
            {
              "expr": "sum(rate(opensearch_indices_merges_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:merges",
              "refId": "H"
            },
            {
              "expr": "sum(rate(opensearch_indices_percolate_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:percolate",
              "refId": "I"
            },
            {
              "expr": "sum(rate(opensearch_indices_refresh_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:refresh",
              "refId": "J"
            },
            {
              "expr": "sum(rate(opensearch_indices_search_fetch_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:search-fetch",
              "refId": "K"
            },
            {
              "expr": "sum(rate(opensearch_indices_search_query_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:search-query",
              "refId": "L"
            },
            {
              "expr": "sum(rate(opensearch_indices_search_scroll_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:search-scroll",
              "refId": "M"
            },
            {
              "expr": "sum(rate(opensearch_indices_suggest_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:suggest",
              "refId": "N"
            },
            {
              "expr": "sum(rate(opensearch_indices_warmer_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:warmer",
              "refId": "O"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Indices operations rate",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "ops",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The average time to complete an operation in indices grouped by operation type and OpenSearch node",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "grid": {},
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 29
          },
          "hiddenSeries": false,
          "id": 65066,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": true,
          "targets": [
            {
              "alias": "$tag_node_name: $col",
              "dsType": "influxdb",
              "expr": "sum(opensearch_indices_merges_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "interval": "",
              "legendFormat": "{{node_name}}:merges-total",
              "measurement": "opensearch_transport_rx_count",
              "policy": "default",
              "query": "SELECT mean(merges_total_time_in_millis) AS \"merges-total\", mean(flush_total_time_in_millis) AS \"flush-total\", mean(get_exists_time_in_millis) AS \"get-exists\", mean(get_missing_time_in_millis) AS \"get-missing\", mean(get_time_in_millis) AS \"get\", mean(indexing_delete_time_in_millis) AS \"indexing-delete\", mean(indexing_index_time_in_millis) AS \"indexing-index\", mean(indexing_throttle_time_in_millis) AS \"indexing-throttle\", mean(merges_total_stopped_time_in_millis) AS \"merges-total-stopped\", mean(merges_total_throttled_time_in_millis) AS \"merges-total-throttled\", mean(merges_total_time_in_millis) AS \"merges-total\", mean(percolate_time_in_millis) AS \"percolate\", mean(recovery_throttle_time_in_millis) AS \"recovery-throttle\", mean(refresh_total_time_in_millis) AS \"refresh-total\", mean(search_fetch_time_in_millis) AS \"search-fetch\", mean(search_query_time_in_millis) AS \"search-query\", mean(search_scroll_time_in_millis) AS \"search-scroll\", mean(store_throttle_time_in_millis) AS \"store-throttle\", mean(suggest_time_in_millis) AS \"suggest\", mean(warmer_total_time_in_millis) AS \"warmer-total\" FROM \"opensearch_indices\" WHERE (node_name =~ /$node_name/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY time($__interval), * fill(null)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "expr": "sum(opensearch_indices_flush_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:flush-total",
              "refId": "A"
            },
            {
              "expr": "sum(opensearch_indices_get_exists_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:get-exists",
              "refId": "B"
            },
            {
              "expr": "sum(opensearch_indices_get_missing_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:get-missing",
              "refId": "D"
            },
            {
              "expr": "sum(opensearch_indices_get_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:get",
              "refId": "E"
            },
            {
              "expr": "sum(opensearch_indices_indexing_delete_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:indexing-delete",
              "refId": "F"
            },
            {
              "expr": "sum(opensearch_indices_indexing_index_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:indexing-index",
              "refId": "G"
            },
            {
              "expr": "sum(opensearch_indices_indexing_throttle_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:indexing-throttle",
              "refId": "H"
            },
            {
              "expr": "sum(opensearch_indices_merges_total_stopped_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:merges-total-stopped",
              "refId": "I"
            },
            {
              "expr": "sum(opensearch_indices_merges_total_throttled_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:merges-total-throttled",
              "refId": "J"
            },
            {
              "expr": "sum(opensearch_indices_percolate_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:percolate",
              "refId": "K"
            },
            {
              "expr": "sum(opensearch_indices_recovery_throttle_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:recovery-throttle",
              "refId": "L"
            },
            {
              "expr": "sum(opensearch_indices_refresh_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:refresh-total",
              "refId": "M"
            },
            {
              "expr": "sum(opensearch_indices_search_fetch_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:search-fetch",
              "refId": "N"
            },
            {
              "expr": "sum(opensearch_indices_search_query_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:search-query",
              "refId": "O"
            },
            {
              "expr": "sum(opensearch_indices_search_scroll_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:search-scroll",
              "refId": "P"
            },
            {
              "expr": "sum(opensearch_indices_store_throttle_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:store-throttle",
              "refId": "Q"
            },
            {
              "expr": "sum(opensearch_indices_suggest_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:suggest",
              "refId": "R"
            },
            {
              "expr": "sum(opensearch_indices_warmer_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:warmer-total",
              "refId": "S"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Indices time operations",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "ms",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The average time to complete an operation in indices per second grouped by operation type and OpenSearch node",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "grid": {},
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 29
          },
          "hiddenSeries": false,
          "id": 65077,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": true,
          "targets": [
            {
              "expr": "sum(rate(opensearch_indices_merges_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:merges-total",
              "refId": "C"
            },
            {
              "expr": "sum(rate(opensearch_indices_flush_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:flush-total",
              "refId": "A"
            },
            {
              "expr": "sum(rate(opensearch_indices_get_exists_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:get-exists",
              "refId": "B"
            },
            {
              "expr": "sum(rate(opensearch_indices_get_missing_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:get-missing",
              "refId": "D"
            },
            {
              "expr": "sum(rate(opensearch_indices_get_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:get",
              "refId": "E"
            },
            {
              "expr": "sum(rate(opensearch_indices_indexing_delete_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:indexing-delete",
              "refId": "F"
            },
            {
              "expr": "sum(rate(opensearch_indices_indexing_index_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:indexing-index",
              "refId": "G"
            },
            {
              "expr": "sum(rate(opensearch_indices_indexing_throttle_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:indexing-throttle",
              "refId": "H"
            },
            {
              "expr": "sum(rate(opensearch_indices_merges_total_stopped_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:merges-total-stopped",
              "refId": "I"
            },
            {
              "expr": "sum(rate(opensearch_indices_merges_total_throttled_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:merges-total-throttled",
              "refId": "J"
            },
            {
              "expr": "sum(rate(opensearch_indices_percolate_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:percolate",
              "refId": "K"
            },
            {
              "expr": "sum(rate(opensearch_indices_recovery_throttle_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:recovery-throttle",
              "refId": "L"
            },
            {
              "expr": "sum(rate(opensearch_indices_refresh_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:refresh-total",
              "refId": "M"
            },
            {
              "expr": "sum(rate(opensearch_indices_search_fetch_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:search-fetch",
              "refId": "N"
            },
            {
              "expr": "sum(rate(opensearch_indices_search_query_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:search-query",
              "refId": "O"
            },
            {
              "expr": "sum(rate(opensearch_indices_search_scroll_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:search-scroll",
              "refId": "P"
            },
            {
              "expr": "sum(rate(opensearch_indices_store_throttle_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:store-throttle",
              "refId": "Q"
            },
            {
              "expr": "sum(rate(opensearch_indices_suggest_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:suggest",
              "refId": "R"
            },
            {
              "expr": "sum(rate(opensearch_indices_warmer_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:warmer-total",
              "refId": "S"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Indices time operations rate",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "ms/sec",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The number of operations performed by indices in the moment grouped by operation type and OpenSearch node",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 37
          },
          "hiddenSeries": false,
          "id": 65078,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 2,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_node_name: $col",
              "dsType": "influxdb",
              "expr": "sum(opensearch_indices_get_current{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "{{node_name}}:get",
              "measurement": "opensearch_indices",
              "policy": "default",
              "query": "SELECT mean(\"get_current\") AS \"get\", mean(\"indexing_index_current\") AS \"index\", mean(\"search_fetch_current\") AS \"search fetch\", mean(\"search_query_current\") AS \"search query\" FROM \"opensearch_indices\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "expr": "sum(opensearch_indices_indexing_index_current{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:index",
              "refId": "B"
            },
            {
              "expr": "sum(opensearch_indices_search_fetch_current{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:search fetch",
              "refId": "C"
            },
            {
              "expr": "sum(opensearch_indices_search_query_current{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:search query",
              "refId": "D"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Indices current operations",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "none",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The size of data stored in indices grouped by OpenSearch nodes",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 37
          },
          "hiddenSeries": false,
          "id": 65080,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "indices size",
              "dsType": "influxdb",
              "expr": "sum(opensearch_indices_store_size_in_bytes{node_name=~\"^$node_name$\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "{{ node_name }}",
              "measurement": "opensearch_clusterstats_indices",
              "policy": "default",
              "query": "SELECT mean(\"store_size_in_bytes\") FROM \"opensearch_clusterstats_indices\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"cluster_name\" fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Indices data size",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "logBase": 1,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The number of documents stored in indices grouped by OpenSearch nodes",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 45
          },
          "hiddenSeries": false,
          "id": 65082,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideZero": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "document count",
              "dsType": "influxdb",
              "expr": "sum(opensearch_indices_docs_count{node_name=~\"^$node_name$\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "{{ node_name }}",
              "measurement": "opensearch_clusterstats_indices",
              "policy": "default",
              "query": "SELECT mean(\"docs_count\") FROM \"opensearch_clusterstats_indices\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval), \"cluster_name\" fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Indices documents count",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "none",
              "logBase": 1,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The number of documents added to indices per second grouped by OpenSearch nodes",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 45
          },
          "hiddenSeries": false,
          "id": 65083,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideZero": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum(rate(opensearch_indices_docs_count{node_name=~\"^$node_name$\",namespace=\"$namespace\",cluster=\"$cluster\"}[5m])) by (node_name)",
              "interval": "",
              "legendFormat": "{{ node_name }}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Indices documents rate",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "cps",
              "logBase": 1,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        }
      ],
      "title": "Indices statistics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 21
      },
      "id": 65124,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "If you notice the indexing latency increasing, you may be trying to index too many documents at one time (OpenSearchs documentation recommends starting with a bulk indexing size of 5 to 15 megabytes and increasing slowly from there).\nIf you are planning to index a lot of documents and you dont need the new information to be immediately available for search, you can optimize for indexing performance over search performance by decreasing refresh frequency until you are done indexing.\nFlush latency:  If you see this metric increasing steadily, it could indicate a problem with slow disks",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 22
          },
          "hiddenSeries": false,
          "id": 65061,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideZero": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 2,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_node_name: indexing",
              "dsType": "influxdb",
              "expr": "sum(opensearch_indices_indexing_index_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name) / sum(opensearch_indices_indexing_index_total{node_name=~\"^$node_name*\",namespace=\"$namespace\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "interval": "",
              "legendFormat": "{{node_name}}:indexing",
              "measurement": "opensearch_indices",
              "policy": "default",
              "query": "SELECT mean(\"indexing_index_time_in_millis\") / mean(\"indexing_index_total\") FROM \"opensearch_indices\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY \"node_name\", time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$tag_node_name: flush",
              "dsType": "influxdb",
              "expr": "sum(opensearch_indices_flush_total_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name) / sum(opensearch_indices_flush_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "{{node_name}}:flush",
              "measurement": "opensearch_indices",
              "policy": "default",
              "query": "SELECT mean(\"flush_total_time_in_millis\") / mean(\"flush_total\") FROM \"opensearch_indices\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY \"node_name\", time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$tag_node_name: get exists",
              "dsType": "influxdb",
              "expr": "sum(opensearch_indices_get_exists_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name) / sum(opensearch_indices_get_exists_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "{{node_name}}:get exists",
              "policy": "default",
              "query": "SELECT mean(\"get_exists_time_in_millis\") / mean(\"get_exists_total\") FROM \"opensearch_indices\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY \"node_name\", time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$tag_node_name: search query",
              "dsType": "influxdb",
              "expr": "sum(opensearch_indices_search_query_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name) / sum(opensearch_indices_search_query_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "{{node_name}}:search query",
              "policy": "default",
              "query": "SELECT mean(\"search_query_time_in_millis\") / mean(\"search_query_total\") FROM \"opensearch_indices\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY \"node_name\", time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "E",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$tag_node_name: fetch query",
              "dsType": "influxdb",
              "expr": "sum(opensearch_indices_search_fetch_time_in_millis{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name) / sum(opensearch_indices_search_fetch_total{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "{{node_name}}: fetch query",
              "policy": "default",
              "query": "SELECT mean(\"search_fetch_time_in_millis\") / mean(\"search_fetch_total\") FROM \"opensearch_indices\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY \"node_name\", time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "F",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Requests latency",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "ms",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The size of each thread pools queue represents how many requests are waiting to be served while the node is currently at capacity. The queue allows the node to track and eventually serve these requests instead of discarding them. Thread pool rejections arise once the thread pools maximum queue size (which varies based on the type of thread pool) is reached.",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 22
          },
          "hiddenSeries": false,
          "id": 65063,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideZero": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_node_name: $col",
              "dsType": "influxdb",
              "expr": "max(opensearch_thread_pool_write_rejected{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "instant": false,
              "interval": "",
              "legendFormat": "{{node_name}}:write",
              "measurement": "opensearch_thread_pool",
              "policy": "default",
              "query": "SELECT max(\"bulk_rejected\") AS \"bulk\", max(\"get_rejected\") AS \"get\", max(\"index_rejected\") AS \"index\", max(\"search_rejected\") AS \"search\" FROM \"opensearch_thread_pool\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "expr": "max(opensearch_thread_pool_get_rejected{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:get",
              "refId": "B"
            },
            {
              "expr": "max(opensearch_thread_pool_index_rejected{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:index",
              "refId": "C"
            },
            {
              "expr": "max(opensearch_thread_pool_search_rejected{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:search",
              "refId": "D"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Rejected requests",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "none",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "The size of each thread pools queue represents how many requests are waiting to be served while the node is currently at capacity.",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 29
          },
          "hiddenSeries": false,
          "id": 65064,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideZero": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 2,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_node_name: $col",
              "dsType": "influxdb",
              "expr": "max(opensearch_thread_pool_write_queue{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "{{node_name}}:write",
              "measurement": "opensearch_thread_pool",
              "policy": "default",
              "query": "SELECT max(\"bulk_queue\") AS \"bulk\", max(\"flush_queue\") AS \"flush\", max(\"get_queue\") AS \"get\", max(\"index_queue\") AS \"index\", max(\"refresh_queue\") AS \"refresh\", max(\"search_queue\") AS \"search\" FROM \"opensearch_thread_pool\" WHERE (\"node_name\" =~ /^$node_name$/ AND \"namespace\" =~ /^$namespace$/) AND $timeFilter GROUP BY time($__interval), \"node_name\" fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "expr": "max(opensearch_thread_pool_flush_queue{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:flush",
              "refId": "B"
            },
            {
              "expr": "max(opensearch_thread_pool_get_queue{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:get",
              "refId": "C"
            },
            {
              "expr": "max(opensearch_thread_pool_index_queue{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:index",
              "refId": "D"
            },
            {
              "expr": "max(opensearch_thread_pool_refresh_queue{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:refresh",
              "refId": "E"
            },
            {
              "expr": "max(opensearch_thread_pool_search_queue{node_name=~\"^$node_name*\",namespace=\"$namespace\",cluster=\"$cluster\"}) by (node_name)",
              "interval": "",
              "legendFormat": "{{node_name}}:search",
              "refId": "F"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Thread pool queues",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "none",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        }
      ],
      "title": "Thread pool queues and requests metrics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 22
      },
      "id": 65126,
      "panels": [
        {
          "datasource": "$datasource",
          "description": "Shows the current activity status of the backup daemon. The activity status can be one of following:\n* Not Active - There is no running backup process.\n* In Progress/Started - The backup process is running.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "text": "Not Active"
                    },
                    "1": {
                      "text": "Success"
                    },
                    "2": {
                      "text": "Started"
                    },
                    "3": {
                      "text": "In Progress"
                    },
                    "4": {
                      "text": "Partial"
                    },
                    "5": {
                      "text": "Incompatible"
                    },
                    "6": {
                      "text": "Failed"
                    },
                    "-1": {
                      "text": "Not Active"
                    },
                    "-2": {
                      "text": "OpenSearch Is Not Available"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "Not Active"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#fce2de",
                    "value": null
                  },
                  {
                    "color": "#629e51",
                    "value": 1
                  },
                  {
                    "color": "rgba(245, 54, 54, 0.9)",
                    "value": 5
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 23
          },
          "id": 65144,
          "interval": "$inter",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "8.4.3",
          "targets": [
            {
              "datasource": "$datasource",
              "exemplar": false,
              "expr": "opensearch_backups_metric_current_status{namespace=\"$namespace\",cluster=\"$cluster\"}",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_backups_metric",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT last(\"current_status\") FROM \"opensearch_backups_metric\" WHERE (\"project_name\" =~ /^$project$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Backup Daemon Status",
          "type": "stat"
        },
        {
          "datasource": "$datasource",
          "description": "Shows the state of the last backup. The backup status can be one of following:\n \n* SUCCESS - There is at least one successful backup, and the latest backup is successful.\n* FAILED - There are no successful backups, or the last backup failed.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "decimals": 0,
              "mappings": [
                {
                  "options": {
                    "0": {
                      "text": "N/A"
                    },
                    "1": {
                      "text": "Success"
                    },
                    "2": {
                      "text": "Started"
                    },
                    "3": {
                      "text": "In Progress"
                    },
                    "4": {
                      "text": "Partial"
                    },
                    "5": {
                      "text": "Incompatible"
                    },
                    "6": {
                      "text": "Failed"
                    },
                    "-1": {
                      "text": "N/A"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#fce2de",
                    "value": null
                  },
                  {
                    "color": "#629e51",
                    "value": 1
                  },
                  {
                    "color": "rgba(245, 54, 54, 0.9)",
                    "value": 5
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 23
          },
          "id": 65101,
          "interval": "$inter",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "8.4.3",
          "targets": [
            {
              "expr": "opensearch_backups_metric_last_backup_status{namespace=\"$namespace\",cluster=\"$cluster\"}",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_backups_metric",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT last(\"last_backup_status\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Last Backup Status",
          "type": "stat"
        },
        {
          "datasource": "$datasource",
          "description": "Shows the period of time when the last backup process was ended.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "decimals": 1,
              "mappings": [
                {
                  "options": {
                    "0": {
                      "text": "N/A"
                    },
                    "-1": {
                      "text": "N/A"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "dateTimeFromNow"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 23
          },
          "hideTimeOverride": false,
          "id": 65105,
          "interval": "$inter",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "none",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "8.4.3",
          "targets": [
            {
              "expr": "opensearch_backups_metric_last_snapshot_time{namespace=\"$namespace\",cluster=\"$cluster\"}",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_backups_metric",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT last(\"last_snapshot_time\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Time of Last Backup",
          "type": "stat"
        },
        {
          "backgroundColor": "rgba(128,128,128,0.1)",
          "colorMaps": [
            {
              "$$hashKey": "object:851",
              "color": "#ECC",
              "text": "Not Active"
            },
            {
              "$$hashKey": "object:902",
              "color": "#C4162A",
              "text": "Opensearch Is Not Available"
            },
            {
              "$$hashKey": "object:911",
              "color": "#C4162A",
              "text": "Failed"
            },
            {
              "$$hashKey": "object:914",
              "color": "#C4162A",
              "text": "Incompatible"
            },
            {
              "$$hashKey": "object:917",
              "color": "#37872D",
              "text": "Partial"
            },
            {
              "$$hashKey": "object:920",
              "color": "#37872D",
              "text": "In Progress"
            },
            {
              "$$hashKey": "object:923",
              "color": "#37872D",
              "text": "Started"
            },
            {
              "$$hashKey": "object:926",
              "color": "#37872D",
              "text": "Success"
            }
          ],
          "crosshairColor": "#8F070C",
          "datasource": "$datasource",
          "description": "Shows the current activity status of the backup daemon. The activity status can be one of following:\n* Not Active - There is no running backup process.\n* In Progress/Started - The backup process is running.",
          "display": "timeline",
          "expandFromQueryS": 0,
          "extendLastValue": true,
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 31
          },
          "highlightOnMouseover": true,
          "id": 65137,
          "interval": "$inter",
          "legendSortBy": "-ms",
          "lineColor": "rgba(0,0,0,0.1)",
          "links": [],
          "maxDataPoints": 100,
          "metricNameColor": "#000000",
          "pluginVersion": "8.3.3",
          "rangeMaps": [
            {
              "$$hashKey": "object:1264",
              "from": "null",
              "text": "N/A",
              "to": "null"
            }
          ],
          "rowHeight": 50,
          "showLegend": false,
          "showLegendNames": true,
          "showLegendPercent": true,
          "showLegendValues": true,
          "showTimeAxis": true,
          "targets": [
            {
              "datasource": "$datasource",
              "exemplar": true,
              "expr": "opensearch_backups_metric_current_status{namespace=\"$namespace\",cluster=\"$cluster\"}",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "instant": false,
              "interval": "",
              "legendFormat": "",
              "measurement": "elasticsearch_backups_metric",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT last(\"current_status\") FROM \"elasticsearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "textSize": 24,
          "textSizeTime": 12,
          "timeOptions": [
            {
              "name": "Years",
              "value": "years"
            },
            {
              "name": "Months",
              "value": "months"
            },
            {
              "name": "Weeks",
              "value": "weeks"
            },
            {
              "name": "Days",
              "value": "days"
            },
            {
              "name": "Hours",
              "value": "hours"
            },
            {
              "name": "Minutes",
              "value": "minutes"
            },
            {
              "name": "Seconds",
              "value": "seconds"
            },
            {
              "name": "Milliseconds",
              "value": "milliseconds"
            }
          ],
          "timePrecision": {
            "name": "Minutes",
            "value": "minutes"
          },
          "timeTextColor": "#d8d9da",
          "title": "Backup Daemon Status Transitions",
          "type": "natel-discrete-panel",
          "units": "short",
          "use12HourClock": false,
          "useTimePrecision": false,
          "valueMaps": [
            {
              "$$hashKey": "object:854",
              "op": "=",
              "text": "Not Active",
              "value": "null"
            },
            {
              "$$hashKey": "object:884",
              "op": "=",
              "text": "Opensearch Is Not Available",
              "value": "-2"
            },
            {
              "$$hashKey": "object:886",
              "op": "=",
              "text": "Not Active",
              "value": "-1"
            },
            {
              "$$hashKey": "object:888",
              "op": "=",
              "text": "Failed",
              "value": "6"
            },
            {
              "$$hashKey": "object:890",
              "op": "=",
              "text": "Incompatible",
              "value": "5"
            },
            {
              "$$hashKey": "object:892",
              "op": "=",
              "text": "Partial",
              "value": "4"
            },
            {
              "$$hashKey": "object:894",
              "op": "=",
              "text": "In Progress",
              "value": "3"
            },
            {
              "$$hashKey": "object:896",
              "op": "=",
              "text": "Started",
              "value": "2"
            },
            {
              "$$hashKey": "object:898",
              "op": "=",
              "text": "Success",
              "value": "1"
            },
            {
              "$$hashKey": "object:1353",
              "op": "=",
              "text": "Not Active",
              "value": "0"
            }
          ],
          "valueTextColor": "#000000",
          "writeAllValues": false,
          "writeLastValue": false,
          "writeMetricNames": false
        },
        {
          "datasource": "$datasource",
          "description": "Shows the backup storage type.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "text": "N/A"
                    },
                    "1": {
                      "text": "Persistent Volume"
                    },
                    "2": {
                      "text": "AWS S3"
                    },
                    "-1": {
                      "text": "N/A"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 31
          },
          "id": 65111,
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "none",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "8.4.3",
          "targets": [
            {
              "expr": "opensearch_backups_metric_storage_type{namespace=\"$namespace\",cluster=\"$cluster\"}",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_backups_metric",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT last(\"storage_type\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Storage Type",
          "type": "stat"
        },
        {
          "datasource": "$datasource",
          "description": "Shows the amount of successful backups.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "-1": {
                      "text": "N/A"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 31
          },
          "id": 65099,
          "interval": "$inter",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "none",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "8.4.3",
          "targets": [
            {
              "expr": "opensearch_backups_metric_count_of_successful_snapshots{namespace=\"$namespace\",cluster=\"$cluster\"}",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_backups_metric",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT last(\"count_of_successful_snapshots\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Successful Backup Versions Count",
          "type": "stat"
        },
        {
          "datasource": "$datasource",
          "description": "Shows the period of time when the last successful backup process was ended.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "decimals": 0,
              "mappings": [
                {
                  "options": {
                    "0": {
                      "text": "N/A"
                    },
                    "-1": {
                      "text": "N/A"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "dateTimeFromNow"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 39
          },
          "id": 65107,
          "interval": "$inter",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "none",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "8.4.3",
          "targets": [
            {
              "expr": "opensearch_backups_metric_last_snapshot_time{namespace=\"$namespace\",cluster=\"$cluster\"}",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_backups_metric",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT last(\"last_snapshot_time\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Time of Last Successful Backup",
          "type": "stat"
        },
        {
          "datasource": "$datasource",
          "description": "Shows the amount of available backups.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "-1": {
                      "text": "N/A"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 39
          },
          "id": 65109,
          "interval": "$inter",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "none",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "8.4.3",
          "targets": [
            {
              "expr": "opensearch_backups_metric_count_of_snapshots{namespace=\"$namespace\",cluster=\"$cluster\"}",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_backups_metric",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT last(\"count_of_snapshots\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Backup Versions Count",
          "type": "stat"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Shows the space occupied by backups and the remaining amount of space. \nNot all storage supports total size, so \"Total Volume Space\" metrics can be zeroed.",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 39
          },
          "height": "295px",
          "hiddenSeries": false,
          "id": 65113,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.4.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "Total Volume Space",
              "color": "#890F02",
              "fill": 0
            },
            {
              "alias": "Space Used",
              "color": "#629E51",
              "fill": 2
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "Space Used",
              "dsType": "influxdb",
              "expr": "sum(opensearch_fs_total_total_in_bytes{namespace=\"$namespace\",cluster=\"$cluster\"})",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "total",
              "measurement": "opensearch_fs",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT (mean(\"total_total_in_bytes\") - mean(\"total_free_in_bytes\")) FROM \"opensearch_fs\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "Total Volume Space",
              "dsType": "influxdb",
              "expr": "sum(opensearch_fs_total_total_in_bytes{namespace=\"$namespace\",cluster=\"$cluster\"}) - sum(opensearch_fs_total_free_in_bytes{namespace=\"$namespace\",cluster=\"$cluster\"})",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "usage",
              "measurement": "opensearch_fs",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT mean(\"total_total_in_bytes\") FROM \"opensearch_fs\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Storage Size/Free Space",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "decbytes",
              "logBase": 1,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Shows the changes of activity status on the chart.",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 47
          },
          "height": "300px",
          "hiddenSeries": false,
          "id": 65115,
          "interval": "$inter",
          "legend": {
            "alignAsTable": false,
            "avg": true,
            "current": false,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": false,
            "show": false,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.4.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "Time Spent on Each Backup",
              "dsType": "influxdb",
              "expr": "sum(opensearch_backups_metric_last_backup_time_spent{namespace=\"$namespace\",cluster=\"$cluster\"})",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_backups_metric",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT mean(\"last_backup_time_spent\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Backup Activity Status",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "ms",
              "logBase": 1,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Shows time spent on last backup.",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 47
          },
          "height": "300px",
          "hiddenSeries": false,
          "id": 65097,
          "interval": "$inter",
          "legend": {
            "alignAsTable": false,
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "rightSide": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.4.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum(opensearch_backups_metric_last_backup_time_spent{namespace=\"$namespace\",cluster=\"$cluster\"})",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_backups_metric",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT mean(\"last_backup_time_spent\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Time Spent on Backup",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "ms",
              "logBase": 1,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Shows the size of the last backup.",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 47
          },
          "height": "300px",
          "hiddenSeries": false,
          "id": 65095,
          "interval": "$inter",
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.4.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "opensearch_backups_metric_last_backup_size{namespace=\"$namespace\",cluster=\"$cluster\"}",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_backups_metric",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT last(\"last_backup_size\") FROM \"opensearch_backups_metric\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Backup Last Version Size",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "decbytes",
              "logBase": 1,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        }
      ],
      "title": "Backup",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 23
      },
      "id": 65127,
      "panels": [
        {
          "circleBackground": false,
          "colorBackground": false,
          "colorValue": true,
          "datasource": "$datasource",
          "defaultColor": "rgb(117, 117, 117)",
          "description": "The status of DBaaS Adapter.",
          "format": "none",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 24
          },
          "id": 65088,
          "interval": "$inter",
          "links": [],
          "mappingType": 1,
          "mappingTypes": [
            {
              "name": "value to text",
              "value": 1
            },
            {
              "name": "range to text",
              "value": 2
            }
          ],
          "math": "",
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "pluginVersion": "7.1.0",
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [
            {
              "from": "null",
              "text": "N/A",
              "to": "null"
            }
          ],
          "sortOrder": "asc",
          "sortOrderOptions": [
            {
              "text": "Ascending",
              "value": "asc"
            },
            {
              "text": "Descending",
              "value": "desc"
            }
          ],
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
          },
          "tableColumn": "",
          "targets": [
            {
              "dsType": "influxdb",
              "expr": "opensearch_dbaas_health_status{namespace=\"$namespace\",cluster=\"$cluster\"}",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_dbaas_health",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT last(\"status\") FROM \"opensearch_dbaas_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [
            {
              "color": "#C4162A",
              "value": 1
            },
            {
              "color": "#E0B400",
              "value": 3
            },
            {
              "color": "#37872D",
              "value": 5
            }
          ],
          "title": "DBaaS Adapter Status",
          "tooltip": {
            "show": true
          },
          "type": "blackmirror1-singlestat-math-panel",
          "valueFontSize": "80%",
          "valueMappingColorBackground": "#767171",
          "valueMaps": [
            {
              "op": "=",
              "text": "N/A",
              "value": "null"
            },
            {
              "op": "=",
              "text": "UP",
              "value": "5"
            },
            {
              "op": "=",
              "text": "WARNING",
              "value": "4"
            },
            {
              "op": "=",
              "text": "UNKNOWN",
              "value": "3"
            },
            {
              "op": "=",
              "text": "PROBLEM",
              "value": "2"
            },
            {
              "op": "=",
              "text": "DOWN",
              "value": "1"
            },
            {
              "op": "=",
              "text": "N/A",
              "value": ""
            }
          ],
          "valueName": "current"
        },
        {
          "circleBackground": false,
          "colorBackground": false,
          "colorValue": true,
          "datasource": "$datasource",
          "defaultColor": "rgb(117, 117, 117)",
          "description": "The status of OpenSearch cluster from the DBaaS Adapter side",
          "format": "none",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 24
          },
          "id": 65091,
          "interval": "$inter",
          "links": [],
          "mappingType": 1,
          "mappingTypes": [
            {
              "name": "value to text",
              "value": 1
            },
            {
              "name": "range to text",
              "value": 2
            }
          ],
          "math": "",
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "pluginVersion": "7.1.0",
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [
            {
              "from": "null",
              "text": "N/A",
              "to": "null"
            }
          ],
          "sortOrder": "asc",
          "sortOrderOptions": [
            {
              "text": "Ascending",
              "value": "asc"
            },
            {
              "text": "Descending",
              "value": "desc"
            }
          ],
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": true
          },
          "tableColumn": "",
          "targets": [
            {
              "alias": "Status",
              "dsType": "influxdb",
              "expr": "opensearch_dbaas_health_elastic_cluster_status{namespace=\"$namespace\",cluster=\"$cluster\"}",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "measurement": "opensearch_dbaas_health",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT last(\"elastic_cluster_status\")  / 5 FROM \"opensearch_dbaas_health\" WHERE (\"namespace\" =~ /^$namespace$/ AND \"cluster\"=\"$cluster\") AND $timeFilter GROUP BY time($__interval) fill(null)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [
            {
              "color": "#C4162A",
              "value": 1
            },
            {
              "color": "#E0B400",
              "value": 3
            },
            {
              "color": "#37872D",
              "value": 5
            }
          ],
          "title": "DBaaS OpenSearch Cluster Status",
          "tooltip": {
            "show": true
          },
          "type": "blackmirror1-singlestat-math-panel",
          "valueFontSize": "70%",
          "valueMappingColorBackground": "#767171",
          "valueMaps": [
            {
              "op": "=",
              "text": "N/A",
              "value": "null"
            },
            {
              "op": "=",
              "text": "UP",
              "value": "5"
            },
            {
              "op": "=",
              "text": "WARNING",
              "value": "4"
            },
            {
              "op": "=",
              "text": "UNKNOWN",
              "value": "3"
            },
            {
              "op": "=",
              "text": "PROBLEM",
              "value": "2"
            },
            {
              "op": "=",
              "text": "DOWN",
              "value": "1"
            },
            {
              "op": "=",
              "text": "N/A",
              "value": ""
            }
          ],
          "valueName": "current"
        },
        {
          "backgroundColor": "rgba(128,128,128,0.1)",
          "colorMaps": [
            {
              "$$hashKey": "object:397",
              "color": "#CCC",
              "text": "N/A"
            },
            {
              "$$hashKey": "object:400",
              "color": "#37872D",
              "text": "UP"
            },
            {
              "$$hashKey": "object:403",
              "color": "#FF780A",
              "text": "UNKNOWN"
            },
            {
              "$$hashKey": "object:406",
              "color": "#C4162A",
              "text": "DOWN"
            },
            {
              "$$hashKey": "object:431",
              "color": "#C4162A",
              "text": "PROBLEM"
            },
            {
              "$$hashKey": "object:434",
              "color": "#FF780A",
              "text": "WARNING"
            }
          ],
          "crosshairColor": "#8F070C",
          "datasource": "$datasource",
          "description": "Transitions of DBaaS Adapter statuses",
          "display": "timeline",
          "expandFromQueryS": 0,
          "extendLastValue": true,
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 30
          },
          "highlightOnMouseover": true,
          "id": 65139,
          "legendSortBy": "-ms",
          "lineColor": "rgba(0,0,0,0.1)",
          "metricNameColor": "#000000",
          "rangeMaps": [
            {
              "$$hashKey": "object:276",
              "from": "null",
              "text": "N/A",
              "to": "null"
            }
          ],
          "rowHeight": 50,
          "showLegend": false,
          "showLegendNames": true,
          "showLegendPercent": true,
          "showLegendValues": true,
          "showTimeAxis": true,
          "targets": [
            {
              "datasource": "$datasource",
              "exemplar": true,
              "expr": "opensearch_dbaas_health_status{namespace=\"$namespace\",cluster=\"$cluster\"}",
              "interval": "",
              "legendFormat": "",
              "refId": "A"
            }
          ],
          "textSize": 24,
          "textSizeTime": 12,
          "timeOptions": [
            {
              "name": "Years",
              "value": "years"
            },
            {
              "name": "Months",
              "value": "months"
            },
            {
              "name": "Weeks",
              "value": "weeks"
            },
            {
              "name": "Days",
              "value": "days"
            },
            {
              "name": "Hours",
              "value": "hours"
            },
            {
              "name": "Minutes",
              "value": "minutes"
            },
            {
              "name": "Seconds",
              "value": "seconds"
            },
            {
              "name": "Milliseconds",
              "value": "milliseconds"
            }
          ],
          "timePrecision": {
            "name": "Minutes",
            "value": "minutes"
          },
          "timeTextColor": "#d8d9da",
          "title": "DBaaS Adapter Status Transitions",
          "type": "natel-discrete-panel",
          "units": "short",
          "use12HourClock": false,
          "useTimePrecision": false,
          "valueMaps": [
            {
              "$$hashKey": "object:274",
              "op": "=",
              "text": "N/A",
              "value": "null"
            },
            {
              "$$hashKey": "object:322",
              "op": "=",
              "text": "UP",
              "value": "5"
            },
            {
              "$$hashKey": "object:324",
              "op": "=",
              "text": "WARNING",
              "value": "4"
            },
            {
              "$$hashKey": "object:326",
              "op": "=",
              "text": "UNKNOWN",
              "value": "3"
            },
            {
              "$$hashKey": "object:350",
              "op": "=",
              "text": "PROBLEM",
              "value": "2"
            },
            {
              "$$hashKey": "object:352",
              "op": "=",
              "text": "DOWN",
              "value": "1"
            },
            {
              "$$hashKey": "object:354",
              "op": "=",
              "text": "N/A",
              "value": ""
            }
          ],
          "valueTextColor": "#000000",
          "writeAllValues": false,
          "writeLastValue": false,
          "writeMetricNames": false
        },
        {
          "backgroundColor": "rgba(128,128,128,0.1)",
          "colorMaps": [
            {
              "$$hashKey": "object:397",
              "color": "#CCC",
              "text": "N/A"
            },
            {
              "$$hashKey": "object:400",
              "color": "#37872D",
              "text": "UP"
            },
            {
              "$$hashKey": "object:403",
              "color": "#FF780A",
              "text": "UNKNOWN"
            },
            {
              "$$hashKey": "object:406",
              "color": "#C4162A",
              "text": "DOWN"
            },
            {
              "$$hashKey": "object:431",
              "color": "#C4162A",
              "text": "PROBLEM"
            },
            {
              "$$hashKey": "object:434",
              "color": "#FF780A",
              "text": "WARNING"
            }
          ],
          "crosshairColor": "#8F070C",
          "datasource": "$datasource",
          "description": "Transitions of DBaaS OpenSearch cluster status",
          "display": "timeline",
          "expandFromQueryS": 0,
          "extendLastValue": true,
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 30
          },
          "highlightOnMouseover": true,
          "id": 65141,
          "legendSortBy": "-ms",
          "lineColor": "rgba(0,0,0,0.1)",
          "metricNameColor": "#000000",
          "rangeMaps": [
            {
              "$$hashKey": "object:276",
              "from": "null",
              "text": "N/A",
              "to": "null"
            }
          ],
          "rowHeight": 50,
          "showLegend": false,
          "showLegendNames": true,
          "showLegendPercent": true,
          "showLegendValues": true,
          "showTimeAxis": true,
          "targets": [
            {
              "datasource": "$datasource",
              "exemplar": true,
              "expr": "opensearch_dbaas_health_elastic_cluster_status{namespace=\"$namespace\",cluster=\"$cluster\"}",
              "interval": "",
              "legendFormat": "",
              "refId": "A"
            }
          ],
          "textSize": 24,
          "textSizeTime": 12,
          "timeOptions": [
            {
              "name": "Years",
              "value": "years"
            },
            {
              "name": "Months",
              "value": "months"
            },
            {
              "name": "Weeks",
              "value": "weeks"
            },
            {
              "name": "Days",
              "value": "days"
            },
            {
              "name": "Hours",
              "value": "hours"
            },
            {
              "name": "Minutes",
              "value": "minutes"
            },
            {
              "name": "Seconds",
              "value": "seconds"
            },
            {
              "name": "Milliseconds",
              "value": "milliseconds"
            }
          ],
          "timePrecision": {
            "name": "Minutes",
            "value": "minutes"
          },
          "timeTextColor": "#d8d9da",
          "title": "DBaaS OpenSearch Cluster Status Transitions",
          "type": "natel-discrete-panel",
          "units": "short",
          "use12HourClock": false,
          "useTimePrecision": false,
          "valueMaps": [
            {
              "$$hashKey": "object:274",
              "op": "=",
              "text": "N/A",
              "value": "null"
            },
            {
              "$$hashKey": "object:322",
              "op": "=",
              "text": "UP",
              "value": "5"
            },
            {
              "$$hashKey": "object:324",
              "op": "=",
              "text": "WARNING",
              "value": "4"
            },
            {
              "$$hashKey": "object:326",
              "op": "=",
              "text": "UNKNOWN",
              "value": "3"
            },
            {
              "$$hashKey": "object:350",
              "op": "=",
              "text": "PROBLEM",
              "value": "2"
            },
            {
              "$$hashKey": "object:352",
              "op": "=",
              "text": "DOWN",
              "value": "1"
            },
            {
              "$$hashKey": "object:354",
              "op": "=",
              "text": "N/A",
              "value": ""
            }
          ],
          "valueTextColor": "#000000",
          "writeAllValues": false,
          "writeLastValue": false,
          "writeMetricNames": false
        }
      ],
      "title": "DBaaS Health",
      "type": "row"
    }
  ],
  "refresh": false,
  "schemaVersion": 35,
  "style": "dark",
  "tags": [
    "Prometheus",
    "OpenSearch"
  ],
  "templating": {
    "list": [
      {
        "allFormat": "glob",
        "current": {
          "selected": false,
          "text": "Platform Monitoring Prometheus",
          "value": "Platform Monitoring Prometheus"
        },
        "datasource": "telegraf",
        "hide": 0,
        "includeAll": false,
        "label": "Cloud",
        "multi": false,
        "name": "datasource",
        "options": [],
        "query": "prometheus",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "current": {
          "isNone": true,
          "selected": false,
          "text": "None",
          "value": ""
        },
        "hide": 0,
        "includeAll": false,
        "datasource": "$datasource",
        "label": "Cluster",
        "multi": false,
        "name": "cluster",
        "options": [],
        "query": {
          "query": "label_values(opensearch_cluster_health_status_code, cluster)",
          "refId": "StandardVariableQuery"
        },
        "skipUrlSync": false,
        "type": "query"
      },
      {
        "current": {
          "selected": true
        },
        "datasource": "$datasource",
        "definition": "label_values(opensearch_cluster_health_status_code{cluster=\"$cluster\"}, namespace)",
        "hide": 0,
        "includeAll": false,
        "label": "Namespace",
        "multi": false,
        "name": "namespace",
        "options": [],
        "query": {
          "query": "label_values(opensearch_cluster_health_status_code, namespace)",
          "refId": "StandardVariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "tagValuesQuery": "",
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "current": {
          "selected": true,
          "text": [
            "All"
          ],
          "value": [
            "$__all"
          ]
        },
        "datasource": "$datasource",
        "definition": "label_values(node_name)",
        "hide": 0,
        "includeAll": true,
        "label": "Node name",
        "multi": true,
        "name": "node_name",
        "options": [],
        "query": {
          "query": "label_values(opensearch_fs_total_available_in_bytes{namespace=\"$namespace\"}, node_name)",
          "refId": "Platform Monitoring Prometheus-node_name-Variable-Query"
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "auto": true,
        "auto_count": 100,
        "auto_min": "30s",
        "current": {
          "selected": false,
          "text": "auto",
          "value": "$__auto_interval_inter"
        },
        "hide": 0,
        "includeAll": false,
        "label": "Sampling",
        "multi": false,
        "name": "inter",
        "options": [
          {
            "selected": true,
            "text": "auto",
            "value": "$__auto_interval_inter"
          },
          {
            "selected": false,
            "text": "1m",
            "value": "1m"
          },
          {
            "selected": false,
            "text": "2m",
            "value": "2m"
          },
          {
            "selected": false,
            "text": "5m",
            "value": "5m"
          },
          {
            "selected": false,
            "text": "10m",
            "value": "10m"
          },
          {
            "selected": false,
            "text": "30m",
            "value": "30m"
          },
          {
            "selected": false,
            "text": "1h",
            "value": "1h"
          },
          {
            "selected": false,
            "text": "2h",
            "value": "2h"
          },
          {
            "selected": false,
            "text": "5h",
            "value": "5h"
          },
          {
            "selected": false,
            "text": "10h",
            "value": "10h"
          },
          {
            "selected": false,
            "text": "1d",
            "value": "1d"
          }
        ],
        "query": "1m,2m,5m,10m,30m,1h, 2h, 5h, 10h 1d",
        "refresh": 2,
        "skipUrlSync": false,
        "type": "interval"
      }
    ]
  },
  "time": {
    "from": "now-1h",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "browser",
  "title": "OpenSearch Monitoring",
  "version": 0
}
